{"version":3,"sources":["webpack:///./src/app/views/pages/membership/activities/activities-edit/activities-edit.dialog.component.html","webpack:///./src/app/views/pages/membership/activities/activities-edit/activities-edit.dialog.component.ts","webpack:///./src/app/views/pages/membership/activities/activities-edit/activities.model.ts","webpack:///./src/app/views/pages/membership/activities/activities.component.html","webpack:///./src/app/views/pages/membership/activities/activities.component.ts","webpack:///./src/app/views/pages/membership/membership.component.css","webpack:///./src/app/views/pages/membership/membership.component.html","webpack:///./src/app/views/pages/membership/membership.component.ts","webpack:///./src/app/views/pages/membership/membership.module.ts","webpack:///./src/app/views/pages/membership/membership.scss","webpack:///./src/app/views/pages/membership/packages/packages-edit/packages-edit.dialog.component.html","webpack:///./src/app/views/pages/membership/packages/packages-edit/packages-edit.dialog.component.ts","webpack:///./src/app/views/pages/membership/packages/packages-edit/packages.model.ts","webpack:///./src/app/views/pages/membership/packages/packages.component.html","webpack:///./src/app/views/pages/membership/packages/packages.component.ts"],"names":[],"mappings":"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","file":"app-views-pages-membership-membership-module.js","sourcesContent":["module.exports = \"<div class=\\\"kt-portlet\\\"\\r\\n    [ngClass]=\\\"{ 'kt-portlet--body-progress' : viewLoading, 'kt-portlet--body-progress-overlay' : viewLoading }\\\">\\r\\n    <div class=\\\"kt-portlet__head kt-portlet__head__custom\\\">\\r\\n        <div class=\\\"kt-portlet__head-label\\\">\\r\\n            <h3 class=\\\"kt-portlet__head-title\\\">{{ getTitle() }}</h3>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div>\\r\\n        <div class=\\\"kt-form\\\">\\r\\n            <mat-tab-group [(selectedIndex)]=\\\"selectedTab\\\">\\r\\n                <mat-tab>\\r\\n                    <ng-template mat-tab-label>\\r\\n                        <i class=\\\"mat-tab-label-icon fa fa-address-book\\\"></i>\\r\\n                        General Data\\r\\n                    </ng-template>\\r\\n                    <ng-template matTabContent>\\r\\n\\r\\n                        <div class=\\\"kt-portlet__body\\\">\\r\\n                            <div class=\\\"kt-portlet__body-progress\\\" *ngIf=\\\"viewLoading\\\">\\r\\n                                <mat-spinner [diameter]=\\\"40\\\"></mat-spinner>\\r\\n                            </div>\\r\\n                            <div #alert id=\\\"alert\\\">\\r\\n                                <kt-alert *ngIf=\\\"hasFormErrors\\\" type=\\\"warn\\\" [duration]=\\\"30000\\\" [showCloseButton]=\\\"true\\\"\\r\\n                                    (close)=\\\"onAlertClose($event)\\\">\\r\\n                                    {{errormessage}}\\r\\n                                </kt-alert>\\r\\n                            </div>\\r\\n\\r\\n                            <div class=\\\"form-group kt-form__group GroupFormCls\\\">\\r\\n                                <div class=\\\"col-sm-12 col-md-12 col-lg-12 center\\\" class=\\\"GroupFormHeaderCls\\\">\\r\\n                                    <div>Branch Information</div>\\r\\n                                </div>\\r\\n                                <div class=\\\"row\\\">\\r\\n                                    <div *ngIf=\\\"allbranch.length >0\\\" class=\\\"col-sm-6 col-md-6 col-lg-6 box\\\">\\r\\n                                        <mat-form-field>\\r\\n                                            <mat-label> All Branchs :</mat-label>\\r\\n                                            <mat-select [(ngModel)]=\\\"activity.branch_key\\\"\\r\\n                                                class=\\\"btn-group bootstrap-select bs-select\\\">\\r\\n                                                <mat-option *ngFor=\\\"let value of allbranch\\\"\\r\\n                                                    (click)=\\\"branchOnchange(value.pub_key)\\\" [value]=\\\"value.pub_key\\\">\\r\\n                                                    {{value.name}}\\r\\n                                                </mat-option>\\r\\n                                            </mat-select>\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                    <div *ngIf=\\\"allunits.length >0\\\" class=\\\"col-sm-6 col-md-6 col-lg-6 box\\\">\\r\\n                                        <mat-form-field>\\r\\n                                            <mat-label> All Unite :</mat-label>\\r\\n                                            <mat-select [(ngModel)]=\\\"activity.units_key\\\"\\r\\n                                                class=\\\"btn-group bootstrap-select bs-select\\\">\\r\\n                                                <mat-option *ngFor=\\\"let value of allunits\\\" [value]=\\\"value.pub_key\\\">\\r\\n                                                    {{value.name}}\\r\\n                                                </mat-option>\\r\\n                                            </mat-select>\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n\\r\\n                            <div class=\\\"form-group kt-form__group GroupFormCls\\\">\\r\\n                                <div class=\\\"col-sm-12 col-md-12 col-lg-12 center\\\" class=\\\"GroupFormHeaderCls\\\">\\r\\n                                    <div>Activity Basic Information</div>\\r\\n                                </div>\\r\\n                                <div class=\\\"row\\\">\\r\\n                                    <div class=\\\"col-sm-3 col-md-3 col-lg-3 box\\\">\\r\\n                                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                                            <input matInput placeholder=\\\"title\\\" [(ngModel)]=\\\"activity.title\\\"\\r\\n                                                #title=\\\"ngModel\\\" placeholder=\\\"title\\\" name=\\\"title\\\" required\\r\\n                                                pattern=\\\"[^+!@^#$%),(&.`=_]*\\\" />\\r\\n                                            <mat-error *ngIf=\\\"title.touched&&!title.valid&&title.errors?.required\\\">title is\\r\\n                                                <strong>required</strong>\\r\\n                                            </mat-error>\\r\\n                                            <mat-error *ngIf=\\\"title.touched&&!title.valid&&title.errors?.pattern\\\">Please\\r\\n                                                enter\\r\\n                                                <strong>valid title</strong>\\r\\n                                            </mat-error>\\r\\n                                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                                <strong>title</strong>\\r\\n                                            </mat-hint> -->\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"col-sm-3 col-md-3 col-lg-3 box\\\">\\r\\n                                        <mat-form-field style=\\\"width: 100%;\\\">\\r\\n                                            <mat-label> Type * </mat-label>\\r\\n                                            <mat-select [(ngModel)]=\\\"activity.type\\\" #type=\\\"ngModel\\\" name=\\\"type\\\"\\r\\n                                                requiredclass=\\\"btn-group bootstrap-select bs-select\\\">\\r\\n                                                <mat-option ng-reflect-value=\\\"general\\\" value=\\\"general\\\">General</mat-option>\\r\\n                                                <mat-option ng-reflect-value=\\\"private\\\" value=\\\"private\\\">Private</mat-option>\\r\\n                                            </mat-select>\\r\\n                                            <mat-error *ngIf=\\\"type.touched&&!type.valid&&type.errors?.required\\\">Please enter\\r\\n                                                <strong>type</strong>\\r\\n                                            </mat-error>\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"col-sm-2 col-md-2 col-lg-2 box\\\">\\r\\n                                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                                            <input matInput type=\\\"number\\\" placeholder=\\\"Session time\\\"\\r\\n                                                [(ngModel)]=\\\"activity.session_time\\\" #session_time=\\\"ngModel\\\"\\r\\n                                                name=\\\"session_time\\\" required [min]=\\\"1\\\" />\\r\\n                                            <!-- <mat-icon matSuffix>Min</mat-icon> -->\\r\\n                                            <mat-error\\r\\n                                                *ngIf=\\\"session_time.touched&&!session_time.valid&&session_time.errors?.required\\\">\\r\\n                                                Session_time is\\r\\n                                                <strong>required</strong>\\r\\n                                            </mat-error>\\r\\n                                            <mat-error\\r\\n                                                *ngIf=\\\"session_time.touched&&!session_time.valid&&session_time.errors?.min\\\">\\r\\n                                                Please enter\\r\\n                                                <strong>valid session_time</strong>\\r\\n                                            </mat-error>\\r\\n                                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                                <strong>Session time</strong>\\r\\n                                            </mat-hint> -->\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                                            <input matInput type=\\\"text\\\" placeholder=\\\"discriptions\\\"\\r\\n                                                [(ngModel)]=\\\"activity.discriptions\\\" #discriptions=\\\"ngModel\\\"\\r\\n                                                name=\\\"discriptions\\\" required pattern=\\\"[^+!@^#$%),(&.`=_]*\\\" />\\r\\n                                            <mat-error\\r\\n                                                *ngIf=\\\"discriptions.touched&&!discriptions.valid&&discriptions.errors?.required\\\">\\r\\n                                                Discriptions is\\r\\n                                                <strong>required</strong>\\r\\n                                            </mat-error>\\r\\n                                            <mat-error\\r\\n                                                *ngIf=\\\"discriptions.touched&&!discriptions.valid&&discriptions.errors?.pattern\\\">\\r\\n                                                Please enter\\r\\n                                                <strong>valid discriptions</strong>\\r\\n                                            </mat-error>\\r\\n                                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                                <strong>discriptions</strong>\\r\\n                                            </mat-hint> -->\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n\\r\\n                            <div class=\\\"form-group kt-form__group GroupFormCls\\\">\\r\\n                                <div class=\\\"col-sm-12 col-md-12 col-lg-12 center\\\" class=\\\"GroupFormHeaderCls\\\">\\r\\n                                    <div>Activity Payment</div>\\r\\n                                </div>\\r\\n                                <div class=\\\"row\\\">\\r\\n                                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                                            <input matInput type=\\\"number\\\" placeholder=\\\"Fees\\\" [(ngModel)]=\\\"activity.fees\\\"\\r\\n                                                #fees=\\\"ngModel\\\" name=\\\"fees\\\" required min=\\\"1\\\" />\\r\\n                                            <mat-error *ngIf=\\\"fees.touched&&!fees.valid&&fees.errors?.required\\\">Fees is\\r\\n                                                <strong>required</strong>\\r\\n                                            </mat-error>\\r\\n                                            <mat-error *ngIf=\\\"fees.touched&&!fees.valid&&fees.errors?.min\\\">Please enter\\r\\n                                                <strong>valid fees</strong>\\r\\n                                            </mat-error>\\r\\n                                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                                <strong>Fees</strong>\\r\\n                                            </mat-hint> -->\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                                            <input matInput type=\\\"number\\\" min=\\\"1\\\" placeholder=\\\"Taxs\\\"\\r\\n                                                [(ngModel)]=\\\"activity.taxs\\\" #taxs=\\\"ngModel\\\" name=\\\"taxs\\\" required [min]=\\\"0\\\"\\r\\n                                                [max]=\\\"100\\\" />\\r\\n                                            <mat-icon matSuffix>%</mat-icon>\\r\\n                                            <mat-error *ngIf=\\\"taxs.touched&&!taxs.valid&&taxs.errors?.required\\\">Taxs is\\r\\n                                                <strong>required</strong>\\r\\n                                            </mat-error>\\r\\n                                            <mat-error\\r\\n                                                *ngIf=\\\"taxs.touched&&!taxs.valid&&(taxs.errors?.min||taxs.errors?.max)\\\">\\r\\n                                                Please enter\\r\\n                                                <strong>valid taxs</strong>\\r\\n                                            </mat-error>\\r\\n                                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                                <strong>Taxs</strong>\\r\\n                                            </mat-hint> -->\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                                            <input matInput placeholder=\\\"Payment Startegy\\\"\\r\\n                                                [(ngModel)]=\\\"activity.payment_startegy\\\" #payment_strategy=\\\"ngModel\\\"\\r\\n                                                name=\\\"payment_strategy\\\" required pattern=\\\"[^+!@^#$%),(&.`=_]*\\\" />\\r\\n                                            <mat-error\\r\\n                                                *ngIf=\\\"payment_strategy.touched&&!payment_strategy.valid&&payment_strategy.errors?.required\\\">\\r\\n                                                Payment stratergy is\\r\\n                                                <strong>required</strong>\\r\\n                                            </mat-error>\\r\\n                                            <mat-error\\r\\n                                                *ngIf=\\\"payment_strategy.touched&&!payment_strategy.valid&&payment_strategy.errors?.pattern\\\">\\r\\n                                                Please enter\\r\\n                                                <strong>valid Payment strategy</strong>\\r\\n                                            </mat-error>\\r\\n                                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                                <strong>Payment Startegy</strong>\\r\\n                                            </mat-hint> -->\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                    \\r\\n                                </div>\\r\\n                            </div>\\r\\n\\r\\n\\r\\n                            <div class=\\\"form-group kt-form__group GroupFormCls\\\">\\r\\n                                <div class=\\\"col-sm-12 col-md-12 col-lg-12 center\\\" class=\\\"GroupFormHeaderCls\\\">\\r\\n                                    <div>Activity Number Info</div>\\r\\n                                </div>\\r\\n                                <div class=\\\"row\\\">\\r\\n                                    <div class=\\\"col-sm-3 col-md-3 col-lg-3 box\\\">\\r\\n                                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                                            <input matInput type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"1\\\"\\r\\n                                                placeholder=\\\"User Count\\\" #users_count=\\\"ngModel\\\" [(ngModel)]=\\\"activity.users_count\\\" required />\\r\\n                                            <mat-error *ngIf=\\\"users_count.touched&&!users_count.valid&&users_count.errors?.required\\\">User Count is <strong>required</strong>\\r\\n                                            </mat-error>\\r\\n                                            <mat-error *ngIf=\\\"users_count.touched&&!users_count.valid&&users_count.errors?.pattern\\\">Please enter <strong>valid Number</strong>\\r\\n                                            </mat-error>\\r\\n                                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                                <strong>User Count</strong>\\r\\n                                            </mat-hint> -->\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"col-sm-3 col-md-3 col-lg-3 box\\\">\\r\\n                                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                                            <input matInput type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"1\\\"\\r\\n                                                placeholder=\\\"Session Count\\\" #session_count=\\\"ngModel\\\" [(ngModel)]=\\\"activity.session_count\\\" required />\\r\\n                                                <mat-error *ngIf=\\\"session_count.touched&&!session_count.valid&&session_count.errors?.required\\\">Session Count is <strong>required</strong>\\r\\n                                                </mat-error>\\r\\n                                                <mat-error *ngIf=\\\"session_count.touched&&!session_count.valid&&session_count.errors?.pattern\\\">Please enter <strong>valid Number</strong>\\r\\n                                                </mat-error>\\r\\n                                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                                <strong>Session Count</strong>\\r\\n                                            </mat-hint> -->\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"col-sm-3 col-md-3 col-lg-3 box\\\">\\r\\n                                        <mat-form-field class=\\\"example-full-width\\\">\\r\\n                                            <input matInput  (focus)=\\\"picker2.open()\\\" [matDatepicker]=\\\"picker2\\\"\\r\\n                                                [(ngModel)]=\\\"activity.start_date\\\" date #start_date=\\\"ngModel\\\" matInput [min]=\\\"startmindate\\\" [max]=\\\"activity.end_date\\\"\\r\\n                                                name=\\\"start_date\\\" placeholder=\\\"Start date\\\" required>\\r\\n                                            <mat-datepicker-toggle matSuffix [for]=\\\"picker2\\\">\\r\\n                                                <!-- <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon> -->\\r\\n                                            </mat-datepicker-toggle>\\r\\n                                            <mat-datepicker #picker2></mat-datepicker>\\r\\n                                            <mat-error *ngIf=\\\"start_date.touched&&!start_date.valid&&start_date.errors?.required\\\">Start Date is <strong>required</strong>\\r\\n                                            </mat-error>\\r\\n                                            <!-- <mat-error>Please enter<strong>valid date</strong>\\r\\n                                            </mat-error> -->\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"col-sm-3 col-md-3 col-lg-3 box\\\">\\r\\n                                        <mat-form-field class=\\\"example-full-width\\\">\\r\\n                                            <input matInput (focus)=\\\"pickerTo.open()\\\" [matDatepicker]=\\\"pickerTo\\\" [(ngModel)]=\\\"activity.end_date\\\" date\\r\\n                                                placeholder=\\\"End date\\\" #end_date=\\\"ngModel\\\" matInput [min]=\\\"activity.start_date\\\" required>  \\r\\n                                            <mat-datepicker-toggle matSuffix [for]=\\\"pickerTo\\\" name=\\\"end_date\\\">\\r\\n                                                <!-- <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon> -->\\r\\n                                            </mat-datepicker-toggle>\\r\\n                                            <mat-datepicker #pickerTo></mat-datepicker>\\r\\n                                            <mat-error *ngIf=\\\"end_date.touched&&!end_date.valid&&end_date.errors?.required\\\">End Date is <strong>required</strong>\\r\\n                                            </mat-error>\\r\\n                                            <!-- <mat-error>Please enter <strong>valid date</strong></mat-error> -->\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n\\r\\n                            <div class=\\\"form-group kt-form__group GroupFormCls\\\">\\r\\n                                <div class=\\\"col-sm-12 col-md-12 col-lg-12 center\\\" class=\\\"GroupFormHeaderCls\\\">\\r\\n                                    <div>Activity Discount Info</div>\\r\\n                                </div>\\r\\n                                <div class=\\\"row\\\">\\r\\n                                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                                            <input matInput type=\\\"number\\\" min=\\\"1\\\" placeholder=\\\"Discount\\\"\\r\\n                                                [(ngModel)]=\\\"activity.discount\\\" #discount=\\\"ngModel\\\" name=\\\"discount\\\" required\\r\\n                                                [min]=\\\"0\\\" [max]=\\\"100\\\" />\\r\\n                                            <mat-icon matSuffix>%</mat-icon>\\r\\n                                            <mat-error *ngIf=\\\"discount.touched&&!discount.valid&&discount.errors?.required\\\">\\r\\n                                                Discount is\\r\\n                                                <strong>required</strong>\\r\\n                                            </mat-error>\\r\\n                                            <mat-error\\r\\n                                                *ngIf=\\\"discount.touched&&!discount.valid&&(discount.errors?.min||discount.errors?.max)\\\">\\r\\n                                                Please enter\\r\\n                                                <strong>valid discount</strong>\\r\\n                                            </mat-error>\\r\\n                                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                                <strong>Discount</strong>\\r\\n                                            </mat-hint> -->\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                                        <mat-form-field class=\\\"example-full-width\\\">\\r\\n                                            <input matInput (focus)=\\\"picker.open()\\\"  date [(ngModel)]=\\\"activity.start_discount\\\"\\r\\n                                                [matDatepicker]=\\\"picker\\\" placeholder=\\\"End Discount\\\" matInput [min]=\\\"discmindate\\\" [max]=\\\"activity.end_discount\\\"\\r\\n                                                #start_discount=\\\"ngModel\\\" name=\\\"start_discount\\\" required>\\r\\n                                            <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\r\\n                                            <mat-datepicker #picker></mat-datepicker>\\r\\n                                            <mat-error *ngIf=\\\"start_discount.touched&&!start_discount.valid&&start_discount.errors?.required\\\">\\r\\n                                                Start_discount is <strong>required</strong>\\r\\n                                            </mat-error>\\r\\n                                            <!-- <mat-error *ngIf=\\\"start_discount.touched&&!start_discount.valid && start_discount.errors?.min\\\">\\r\\n                                                Please enter <strong>valid date</strong>\\r\\n                                            </mat-error> -->\\r\\n                                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                                <strong>Start Discount</strong>\\r\\n                                            </mat-hint> -->\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n\\r\\n                                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                                            <input matInput (focus)=\\\"picker1.open()\\\" [min]=\\\"activity.start_discount\\\" date\\r\\n                                                [(ngModel)]=\\\"activity.end_discount\\\" [matDatepicker]=\\\"picker1\\\"\\r\\n                                                placeholder=\\\"End Discount\\\" #end_discount=\\\"ngModel\\\"\\r\\n                                                name=\\\"end_discount\\\" required>\\r\\n                                            <mat-datepicker-toggle matSuffix [for]=\\\"picker1\\\"></mat-datepicker-toggle>\\r\\n                                            <mat-datepicker disabled=\\\"false\\\" #picker1></mat-datepicker>\\r\\n                                            <mat-error *ngIf=\\\"end_discount.touched&&!end_discount.valid&&end_discount.errors?.required\\\">\\r\\n                                                End_discount <strong>required</strong>\\r\\n                                            </mat-error>\\r\\n                                            <mat-error *ngIf=\\\"end_discount.touched&&!end_discount.valid && end_discount.errors?.min\\\">\\r\\n                                                Please enter <strong>valid date</strong>\\r\\n                                            </mat-error>\\r\\n                                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                                <strong>End Discount</strong>\\r\\n                                            </mat-hint> -->\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n\\r\\n                            <div class=\\\"form-group kt-form__group GroupFormCls\\\">\\r\\n                                <div class=\\\"col-sm-12 col-md-12 col-lg-12 center\\\" class=\\\"GroupFormHeaderCls\\\">\\r\\n                                    <div>Activity Additional Info</div>\\r\\n                                </div>\\r\\n                                <div class=\\\"row\\\">\\r\\n                                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                                            <input matInput placeholder=\\\"Additional Service\\\"\\r\\n                                                [(ngModel)]=\\\"activity.additional_service\\\" />\\r\\n                                            <!-- <mat-error>Additional Service is\\r\\n                                                <strong>required</strong>\\r\\n                                            </mat-error> -->\\r\\n                                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                                <strong>Additional Service</strong>\\r\\n                                            </mat-hint> -->\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                                            <input matInput placeholder=\\\"Additional Invitations\\\"\\r\\n                                                [(ngModel)]=\\\"activity.additional_invitation\\\" />\\r\\n                                            <!-- <mat-error>Additional Invitations is\\r\\n                                                <strong>required</strong>\\r\\n                                            </mat-error> -->\\r\\n                                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                                <strong>Additional Invitations</strong>\\r\\n                                            </mat-hint> -->\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                                            <input matInput placeholder=\\\"Additional Visits\\\"\\r\\n                                                [(ngModel)]=\\\"activity.additional_visits\\\" />\\r\\n                                            <!-- <mat-error>Additional Visits is\\r\\n                                                <strong>required</strong>\\r\\n                                            </mat-error> -->\\r\\n                                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                                <strong>Additional Visits</strong>\\r\\n                                            </mat-hint> -->\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n\\r\\n                            <!-- <div class=\\\"form-group kt-form__group row\\\">\\r\\n                                <div class=\\\"fileinput fileinput-new\\\" data-provides=\\\"fileinput\\\">\\r\\n\\r\\n                                    <div class=\\\"fileinput-new thumbnail\\\" style=\\\"max-width: 300px; max-height: 300px;\\\">\\r\\n                                        <img *ngIf=\\\"imageprivew==''\\\" style=\\\"max-width: 300px; max-height: 300px;\\\" src=\\\"http://www.placehold.it/200x150/EFEFEF/AAAAAA&amp;text=no+image\\\" alt=\\\"\\\">\\r\\n                                        <img *ngIf=\\\"imageprivew !=''\\\" style=\\\"max-width: 300px; max-height: 300px;\\\" src=\\\"{{imageprivew}}\\\" alt=\\\"\\\"> </div>\\r\\n                                    <div class=\\\"fileinput-preview fileinput-exists thumbnail\\\" style=\\\"max-width: 200px; max-height: 150px;\\\"> </div>\\r\\n                                    <div>\\r\\n                                        <span class=\\\"btn default btn-file\\\">\\r\\n                                            <span *ngIf=\\\"imageprivew == ''\\\" class=\\\"fileinput-new btn btn-success btn-s\\\"> Select image </span>\\r\\n                                            <span *ngIf=\\\"imageprivew != ''\\\" class=\\\"fileinput-new btn btn-success btn-s\\\"> Change </span>\\r\\n                                            <input type=\\\"file\\\" name=\\\"photo\\\" (change)=\\\"handleUpload($event)\\\" ng2FileSelect [uploader]=\\\"uploader\\\" /> </span>\\r\\n                                        <button type=\\\"button\\\" *ngIf=\\\"imageprivew != '' && !confirm\\\" class=\\\"btn btn-success btn-s\\\"\\r\\n                                            (click)=\\\"uploader.uploadAll()\\\"\\r\\n                                            [disabled]=\\\"!uploader.getNotUploadedItems().length\\\" >\\r\\n                                                Confirm\\r\\n                                        </button>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div> -->\\r\\n\\r\\n                        </div>\\r\\n                        <div class=\\\"kt-portlet__foot kt-portlet__foot--fit kt-portlet__no-border\\\">\\r\\n                            <div class=\\\"kt-form__actions kt-form__actions--solid\\\">\\r\\n                                <div class=\\\"row text-right\\\">\\r\\n                                    <div class=\\\"col-lg-12\\\">\\r\\n                                        <button type=\\\"button\\\" mat-raised-button [mat-dialog-close]=\\\"data.animal\\\"\\r\\n                                            cdkFocusInitial matTooltip=\\\"Cancel changes\\\">\\r\\n                                            Cancel\\r\\n                                        </button>&nbsp;\\r\\n                                        <button type=\\\"button\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"nexttab(1)\\\"\\r\\n                                            matTooltip=\\\"Next Tab\\\">\\r\\n                                            Next\\r\\n                                        </button>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </ng-template>\\r\\n                </mat-tab>\\r\\n                <mat-tab *ngIf =\\\"checkValidationRquireData()\\\">\\r\\n                    <ng-template mat-tab-label>\\r\\n                        <i class=\\\"mat-tab-label-icon fa fa-address-book\\\"></i>\\r\\n                        Schedual\\r\\n                    </ng-template>\\r\\n                    <ng-template matTabContent>\\r\\n                        <div class=\\\"kt-portlet__body\\\">\\r\\n                            <div class=\\\"form-group kt-form__group row d-block\\\">\\r\\n                                <div class=\\\"col-lg-12 kt-margin-bottom-20-mobile\\\">\\r\\n\\r\\n                                    <link rel=\\\"stylesheet\\\"\\r\\n                                        href=\\\"https://unpkg.com/angular-calendar@0.27.8/css/angular-calendar.css\\\">\\r\\n                                    <!-- <ng-template #customCellTemplate let-day=\\\"day\\\" let-locale=\\\"locale\\\">\\r\\n                        <div class=\\\"cal-cell-top\\\">\\r\\n                          <span class=\\\"cal-day-badge\\\" *ngIf=\\\"day.badgeTotal > 0\\\">{{ day.badgeTotal }}</span>\\r\\n                          <span class=\\\"cal-day-number\\\">{{ day.date | calendarDate:'monthViewDayNumber':locale }}</span>\\r\\n                        </div>\\r\\n                        <div class=\\\"cell-totals\\\">\\r\\n                          <span\\r\\n                          *ngFor=\\\"let group of day.eventGroups\\\"\\r\\n                            class=\\\"badge badge-{{ group[0] }}\\\">\\r\\n\\r\\n                          </span>\\r\\n                        </div>\\r\\n                      </ng-template> -->\\r\\n\\r\\n                                    <div class=\\\"row text-center\\\">\\r\\n                                        <div class=\\\"col-md-4\\\">\\r\\n                                            <div class=\\\"btn-group\\\">\\r\\n                                                <div class=\\\"btn btn-primary\\\" mwlCalendarPreviousView [view]=\\\"view\\\"\\r\\n                                                    [(viewDate)]=\\\"viewDate\\\" (viewDateChange)=\\\"closeOpenMonthViewDay()\\\">\\r\\n                                                    Previous\\r\\n                                                </div>\\r\\n                                                <div class=\\\"btn btn-outline-secondary\\\" mwlCalendarToday\\r\\n                                                    [(viewDate)]=\\\"viewDate\\\">\\r\\n                                                    Today\\r\\n                                                </div>\\r\\n                                                <div class=\\\"btn btn-primary\\\" mwlCalendarNextView [view]=\\\"view\\\"\\r\\n                                                    [(viewDate)]=\\\"viewDate\\\" (viewDateChange)=\\\"closeOpenMonthViewDay()\\\">\\r\\n                                                    Next\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"col-md-4\\\">\\r\\n                                            <h3>{{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}</h3>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                    <br />\\r\\n                                    <div [ngSwitch]=\\\"view\\\">\\r\\n\\r\\n                                        <mwl-calendar-month-view *ngSwitchCase=\\\"CalendarView.Month\\\"\\r\\n                                            [viewDate]=\\\"viewDate\\\" [events]=\\\"events\\\" [refresh]=\\\"refresh\\\"\\r\\n                                            (dayClicked)=\\\"dayClicked($event.day)\\\" [weekStartsOn]=\\\"startDay\\\"\\r\\n                                            (eventClicked)=\\\"handleEvent('Clicked', $event.event,$event)\\\">\\r\\n                                        </mwl-calendar-month-view>\\r\\n\\r\\n                                    </div>\\r\\n\\r\\n                                </div>\\r\\n                            </div>\\r\\n\\r\\n                            <div class=\\\"kt-separator kt-separator--dashed\\\"></div>\\r\\n                        </div>\\r\\n                        <div class=\\\"kt-portlet__foot kt-portlet__foot--fit kt-portlet__no-border\\\">\\r\\n                            <div class=\\\"kt-form__actions kt-form__actions--solid\\\">\\r\\n                                <div class=\\\"row text-right\\\">\\r\\n                                    <div class=\\\"col-lg-12\\\">\\r\\n                                        <button type=\\\"button\\\" mat-raised-button [mat-dialog-close]=\\\"data.animal\\\"\\r\\n                                            cdkFocusInitial matTooltip=\\\"Cancel changes\\\">\\r\\n                                            Cancel\\r\\n                                        </button>&nbsp;\\r\\n                                        <button type=\\\"button\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"nexttab(0)\\\"\\r\\n                                            matTooltip=\\\"Next Tab\\\">\\r\\n                                            Back\\r\\n                                        </button>&nbsp;\\r\\n                                        <button type=\\\"button\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"onSubmit()\\\"\\r\\n                                            [disabled]=\\\"viewLoading\\\" matTooltip=\\\"Save changes\\\">\\r\\n                                            Save\\r\\n                                        </button>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n                    </ng-template>\\r\\n                </mat-tab>\\r\\n\\r\\n            </mat-tab-group>\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<ng-template #modalContent let-close=\\\"close\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <h5 class=\\\"modal-title\\\">Activity Schedual Calender</h5>\\r\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"close()\\\">\\r\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <div> \\r\\n            <h4>\\r\\n                Day : {{ modalData?.action }}\\r\\n            </h4> \\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"modal-body row\\\">\\r\\n        <div class=\\\"col-sm-2 col-md-2 col-lg-2\\\">Start Time:</div>\\r\\n        <div class=\\\"col-sm-4 col-md-4 col-lg-4\\\">\\r\\n                <input style=\\\"font-size: 20px;color: #5d78ff;\\\" matInput type=\\\"time\\\" placeholder=\\\"Start Time\\\"\\r\\n                [(ngModel)]=\\\" modalData?.event.from_time\\\" />\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-2 col-md-2 col-lg-2\\\">End Time:</div>\\r\\n        <div class=\\\"col-sm-4 col-md-4 col-lg-4\\\">\\r\\n                <input style=\\\"font-size: 20px;color: #5d78ff;\\\" matInput type=\\\"time\\\" placeholder=\\\"End Time\\\"\\r\\n                [(ngModel)]=\\\" modalData?.event.to_time\\\" />\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n\\r\\n    <div class=\\\"modal-footer\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"close(saveEvent(modalData?.event))\\\">\\r\\n            Save\\r\\n        </button>\\r\\n        <button  *ngIf=\\\"hideDelBtn\\\" type=\\\"button\\\" class=\\\"btn btn-danger\\\" (click)=\\\"close(deleteEvent(modalData?.event))\\\">\\r\\n            Delete\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-outline-secondary\\\" (click)=\\\"close()\\\">\\r\\n            Close\\r\\n        </button>\\r\\n    </div>\\r\\n</ng-template>\"","// Angular\r\nimport {ViewEncapsulation, Component, OnInit, Inject, ChangeDetectionStrategy, OnDestroy,   ViewChild,TemplateRef } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\n// Lodash\r\nimport { Router } from '@angular/router';\r\nimport * as _lodash from 'lodash';\r\n// RxJS\r\nimport { Observable, of, Subscription} from 'rxjs';\r\n// Lodash\r\nimport { each, find, some } from 'lodash';\r\n// NGRX\r\nimport { Update } from '@ngrx/entity';\r\nimport { Store, select } from '@ngrx/store';\r\n// State\r\nimport { AppState } from '../../../../../core/reducers';\r\nimport { LayoutUtilsService, MessageType, QueryParamsModel } from '../../../../../core/_base/crud';\r\nimport {CalendarEvent,CalendarEventAction,CalendarEventTimesChangedEvent,CalendarView} from 'angular-calendar';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { delay } from 'rxjs/operators';\r\nimport { Activity } from './activities.model';\r\nimport { MembershipService,UserService } from '../../../../../core/auth/_services';\r\nimport {  FileUploader, FileSelectDirective } from 'ng2-file-upload/ng2-file-upload';\r\nimport {\r\n\tMatSnackBar,\r\n\tMatSnackBarConfig,\r\n\tMatSnackBarHorizontalPosition,\r\n\tMatSnackBarVerticalPosition,\r\n} from '@angular/material';\r\nconst colors: any = {\r\n  red: {\r\n    primary: '#ad2121',\r\n    secondary: '#FAE3E3'\r\n  },\r\n  blue: {\r\n    primary: '#1e90ff',\r\n    secondary: '#D1E8FF'\r\n  },\r\n  yellow: {\r\n    primary: '#e3bc08',\r\n    secondary: '#FDF1BA'\r\n  }\r\n};\r\n\r\n@Component({\r\n\tselector: 'kt-activities-edit-dialog',\r\n\ttemplateUrl: './activities-edit.dialog.component.html',\r\n\tchangeDetection: ChangeDetectionStrategy.Default,\r\n\tstyleUrls: ['../../membership.component.css'],\r\n\tencapsulation: ViewEncapsulation.None\r\n})\r\nexport class ActivityEditDialogComponent implements OnInit, OnDestroy {\r\n  @ViewChild('modalContent',) modalContent: TemplateRef<any>;\r\n  view: CalendarView = CalendarView.Month;\r\n  CalendarView = CalendarView;\r\n  viewDate: Date =new Date();\r\n  startDay: number =1;\r\n  modalData: {\r\n    action: string;\r\n    event: CalendarEvent;\r\n  };\r\n\tevents: CalendarEvent[];\r\n  activeDayIsOpen: boolean = true;\r\n  selectedTimes : any;\r\n  options:string='';\r\n  start_date : Date =new Date();\r\n  selectedTab: number = 0;\r\n\r\n\r\n\t// Public properties\r\n\tactivity : Activity;\r\n\tstartmindate =new Date();\r\n\tdiscmindate =new Date();\r\n\tactivity$: Observable<Activity>;\r\n\thasFormErrors: boolean = false;\r\n\terrormessage : string ='';\r\n\tviewLoading: boolean = false;\r\n\timageprivew : any;\r\n\tconfirm : boolean = false;\r\n\tallbrancandunits : [];\r\n\tallbranch : any;\r\n\tallunits : any;\r\n\t// Private properties\r\n\tprivate componentSubscriptions: Subscription;\r\n\thideDelBtn: boolean =true;;\r\n\r\n\t/**\r\n\t * Component constructor\r\n\t *\r\n\t * @param dialogRef: MatDialogRef<ActivityEditDialogComponent>\r\n\t * @param data: any\r\n\t * @param store: Store<AppState>\r\n\t */\r\n\tconstructor(private modal: NgbModal,\r\n\t\tpublic snackBar: MatSnackBar,public dialogRef: MatDialogRef<ActivityEditDialogComponent>,\r\n\t\t@Inject(MAT_DIALOG_DATA) public data: any,\r\n\t\tprivate store: Store<AppState>,private ser :MembershipService,private userservice:UserService,private router: Router,\r\n\t\tprivate layoutUtilsService: LayoutUtilsService) { }\r\n\t\tpublic uploader: FileUploader = new FileUploader({url: this.ser.upload_file(), itemAlias: 'upload'});\r\n\r\n\t/**\r\n\t * @ Lifecycle sequences => https://angular.io/guide/lifecycle-hooks\r\n\t */\r\n\r\n\t/**\r\n\t * On init\r\n\t */\r\n\tngOnInit() {\r\n\t\tthis.events = [];this.allbranch=[];this.allunits=[];\r\n\t\tconst newInviation = new Activity();\r\n\t\tthis.activity$ = of(newInviation);\r\n\t\tthis.activity$.subscribe(res => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.activity = res;\r\n\t\t});\r\n\r\n\t\tthis.uploader.onAfterAddingFile = (file) => { file.withCredentials = false; };\r\n\t\tthis.uploader.onCompleteItem = (item: any, response: any, status: any, headers: any) => {\r\n\t\t\tvar responsePath = JSON.parse(response);\r\n\t\t\tif(responsePath.result) this.activity.image = responsePath.image;\r\n\t\t\tthis.confirm = true;\r\n\t\t};\r\n\r\n\t\tthis.getbranceandunits();\r\n\r\n\t\tif(this.data.id != undefined)\r\n\t\t\tthis.getActivitiesById(this.data.id);\r\n\r\n\t}\r\n\r\n\tbranchOnchange(key){\r\n\t\tvar allunits = [];\r\n\t\tif(this.allbrancandunits){\r\n\t\tObject.values(this.allbrancandunits).forEach(function(units) {\r\n\t\t\tif(units['type'] == 'units' && units['branch_key'] == key) allunits.push(units);\r\n\t\t});\r\n\t\tconsole.table(key);console.table(allunits);\r\n\t\tthis.allunits = allunits;\r\n\t}\r\n\t}\r\n\t/**\r\n\t * On destroy\r\n\t */\r\n\tngOnDestroy() {\r\n\t\tif (this.componentSubscriptions) {\r\n\t\t\tthis.componentSubscriptions.unsubscribe();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\t/**\r\n\t * Save data\r\n\t */\r\n\tonSubmit() {\r\n\t\tif(this.activity.title && this.activity.session_time &&  this.activity.type){\r\n\t\tthis.viewLoading = true;\r\n\t\tconsole.table(this.activity);\r\n\t\tif(this.data.id != undefined){\r\n\t\t\tif(this.checkedpermission('editactivities')){\r\n\t\t\tthis.ser.updateactivities(this.data.id,this.activity).subscribe(\r\n \t\t \tres=>{\r\n \t\t\t\tthis.redirctFunction(res['result'],\"Activity Add Successfully\");\r\n \t\t \t}\r\n\t\t  )\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.open()\r\n\t\t}\r\n\t\t}else{\r\n\t\t\tif(this.checkedpermission('addactivities'))\r\n\t\t\t{\r\n\t\t\tthis.ser.addactivities(this.activity).subscribe(\r\n \t\t \tres=>{\r\n \t\t\t\tthis.redirctFunction(res['result'],'Activity Doesn\\'t Added');\r\n \t\t \t}\r\n\t\t  )\r\n\t\t}\r\n\t\t}\r\n\t }else {\r\n\t\t this.hasFormErrors = true;\r\n\t\t document.querySelector('#alert').scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n\t\t this.errormessage = \"Please Enter all Required Fileds\"\r\n\t }\r\n\r\n\t}\r\n\r\n\r\n\t redirctFunction(done,msg=''){\r\n\t\tif(done){\r\n\t\t\tthis.dialogRef.close({});\r\n\t\t\tif(this.router.url == '/default/membership/activities')\r\n\t\t\t\tthis.router.navigateByUrl(\"/default/membership/activitie\");\r\n\t\t\telse this.router.navigateByUrl(\"/default/membership/activities\");\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tthis.layoutUtilsService.showActionNotification(msg, MessageType.Update);\r\n\t\t\t}, 1000)\r\n\t\t}else{\r\n\t\t\tthis.viewLoading = false;\r\n\t\t\tthis.hasFormErrors = true;\r\n\t\t\tdocument.querySelector('#alert').scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n\t\t\tthis.errormessage = msg;\r\n\t\t}\r\n\t}\r\n\r\n\t//get branch and units\r\n\tgetbranceandunits(){\r\n\t\tthis.viewLoading=true;\r\n\t\tif(this.checkedpermission('getallusers')){\r\n\t\tthis.userservice.getAllBrachsAndUnits(1,10000).subscribe(\r\n\t\t\tres=>{\r\n\t\t\t\tif(res['result'] && res['data'].length > 0){\r\n\t\t\t\t\tthis.allbrancandunits = res['data'];\r\n\t\t\t\t\tvar branches = [];\r\n\t\t\t\t\tObject.keys(res['data']).forEach(function(key) {\r\n\t\t\t\t\t\tif(res['data'][key].type=='branch') branches.push(res['data'][key]);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.table(branches);\r\n\t\t\t\t\tthis.allbranch = branches;\r\n\t\t\t\t\t//console.table(branches);\r\n\t\t\t\t}\r\n\t\t\t\tthis.viewLoading=false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tcloseOpenMonthViewDay() {\r\n    this.activeDayIsOpen = false;\r\n  }\r\n\r\n\t//get activities data\r\n\tgetActivitiesById(id){\r\n\t\tthis.viewLoading=true;\r\n\t\tif(this.checkedpermission('getactivities')){\r\n\t\tthis.ser.getactivitiesById(id).subscribe(\r\n\t\t\tres=>{\r\n\t\t\t\tif(res['result'] && res['data'].length > 0){\r\n\t\t\t\t\tthis.activity.branch_key =  res['data'][0].branch_key;\r\n\t\t\t\t\tthis.activity.units_key =  res['data'][0].units_key;\r\n\t\t\t\t\tthis.activity.title =  res['data'][0].title;\r\n\t\t\t\t\tthis.activity.fees =  res['data'][0].fees;\r\n\t\t\t\t\tthis.activity.taxs =  res['data'][0].taxs;\r\n\t\t\t\t\tthis.activity.payment_startegy =  res['data'][0].payment_startegy;\r\n\t\t\t\t\tthis.activity.type =  res['data'][0].type;\r\n\t\t\t\t\tthis.activity.discount =  res['data'][0].discount;\r\n\t\t\t\t\tthis.activity.start_discount =  res['data'][0].start_discount;\r\n\t\t\t\t\tthis.activity.end_discount =  res['data'][0].end_discount;\r\n\t\t\t\t\tthis.activity.image =  res['data'][0].image;\r\n\t\t\t\t\tthis.activity.discriptions =  res['data'][0].discriptions;\r\n\t\t\t\t\tthis.activity.session_time =  res['data'][0].session_time;\r\n\t\t\t\t\tthis.activity.users_count =  res['data'][0].users_count;\r\n\t\t\t\t\tthis.activity.session_count =  res['data'][0].session_count;\r\n\t\t\t\t\tthis.activity.start_date =  res['data'][0].start_date;\r\n\t\t\t\t\tthis.activity.end_date =  res['data'][0].end_date;\r\n\t\t\t\t\tthis.activity.schedual_time =  res['data'][0].schedual_time;\r\n\t\t\t\t\tthis.activity.additional_visits =  res['data'][0].additional_visits;\r\n\t\t\t\t\tthis.activity.additional_service =  res['data'][0].additional_service;\r\n\t\t\t\t\tthis.activity.additional_invitation =  res['data'][0].additional_invitation;\r\n\t\t\t\t\tthis.imageprivew = res['data'][0].image;\r\n\t\t\t\t\tthis.confirm = true;\r\n\t\t\t\t\tthis.branchOnchange(this.activity.branch_key);\r\n\t\t\t\t\tthis.setDataToCalender(this.activity.schedual_time);\r\n\r\n\t\t\t\t\tif(res['data'][0].start_date)this.startmindate=res['data'][0].start_date;\r\n\t\t\t\t\tif(res['data'][0].start_discount)this.discmindate=res['data'][0].start_discount;\r\n\t\t\t\t}\r\n\t\t\t\tthis.viewLoading=false;\r\n\t\t\t}\r\n\t\t);\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * Close alert\r\n\t *\r\n\t * @param $event: Event\r\n\t */\r\n\tonAlertClose($event) {\r\n\t\tthis.hasFormErrors = false;\r\n\t}\r\n\r\n\r\n\thandleUpload(event:any) {\r\n\tthis.confirm = false;\r\n  if (event.target.files && event.target.files[0]) {\r\n    var reader = new FileReader();\r\n    reader.onload = (event: ProgressEvent) => {\r\n      this.imageprivew = (<FileReader>event.target).result;\r\n    }\r\n    reader.readAsDataURL(event.target.files[0]);\r\n  }\r\n}\r\n\r\n\t/** UI */\r\n\t/**\r\n\t * Returns component title\r\n\t */\r\n\tgetTitle(): string {\r\n\t\treturn 'New Activity';\r\n\t}\r\n\r\n\tisTitleValid(): boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tsetDataToCalender(data){\r\n  //data = JSON.parse(data);\r\n\tObject.values(data).forEach(function(item){\r\n\t\t\tvar start_date= new Date(item.start);\r\n\t\t\tvar end_date = new Date(item.end);\r\n\t\t\tvar title = this.gethoursandminutes(start_date)+\" to \"+this.gethoursandminutes(end_date);\r\n\t\t\tvar color = colors.blue;\r\n\r\n\t\t\tconsole.log(start_date,end_date);\r\n\t\t\tthis.events.push({start:start_date,end:end_date,title,color});\r\n\t\t}.bind(this));\r\n    console.log(this.events);\r\n\t}\r\n\r\n  dayClicked(event){\r\n    //check if day in range\r\n    var date = new Date(event.date);\r\n    var start_date = new Date(this.activity.start_date).getTime();\r\n    var end_date = new Date(this.activity.end_date).getTime();\r\n    if(date.getTime() >= start_date && date.getTime() <= end_date){\r\n      if(event.events.length){\r\n\t\t  \r\n        var d = new Date(event.events[0].start);\r\n        event.from_time = this.gethoursandminutes(d,false);\r\n\r\n        var d = new Date(event.events[0].end);\r\n        event.to_time = this.gethoursandminutes(d,false);\r\n        \r\n      }\r\n\r\n      var action = date.getDate()+\" - \"+(date.getMonth() + 1)+\" - \"+date.getFullYear();\r\n\t  this.modalData = { event, action };\r\n\t  console.log(this.modalData.event['from_time']);\r\n\t  if(typeof this.modalData.event['from_time']=='string'){\r\n\t\t  this.hideDelBtn=true;\r\n\t  }\r\n\t  else{\r\n\t\t  this.hideDelBtn=false;\r\n\t  }\r\n      this.modal.open(this.modalContent, { size: 'lg' });\r\n    }else alert('This Day Not In Range Of Activity');\r\n  }\r\n\r\n  deleteEvent(event){\r\n    var from_time = event.date.toString().replace('00:00:00',event.from_time+':00');\r\n    var to_time = event.date.toString().replace('00:00:00',event.to_time+':00');\r\n    var data =this.activity.schedual_time;\r\n    Object.keys(data).forEach(function(key){\r\n      event.events[0].start = new Date(from_time);\r\n      event.events[0].end = new Date(to_time);\r\n      if(new Date(data[key].start).toString().substring(0,10) == event.events[0].start.toString().substring(0,10)){\r\n        this.activity.schedual_time.splice(key, 1);\r\n      }\r\n    }.bind(this));\r\n    event.events = [];\r\n  }\r\n\r\n  saveEvent(event){\r\n    var from_time = event.date.toString().replace('00:00:00',event.from_time+':00');\r\n\tvar to_time = event.date.toString().replace('00:00:00',event.to_time+':00');\r\n\tfrom_time= new Date(from_time);\r\n\tto_time = new Date(to_time);\r\n\tconsole.log(event,this.activity.schedual_time)\r\n\tif(from_time=='Invalid Date' ||to_time=='Invalid Date' ){\r\n\t\talert('Please, select Valid Time, and Try Again');\r\n\t}\r\n\telse{\r\n\t\tif(!this.activity.schedual_time) this.activity.schedual_time=[];\r\n\t\tif(event.events.length){\r\n\t\tvar data =this.activity.schedual_time;\r\n\t\t\tObject.keys(data).forEach(function(key){\r\n\t\t\t\tconsole.log('fff')\r\n\t\t\t//this.events=[];\r\n\t\t\tevent.events[0].start = from_time;\r\n\t\t\tevent.events[0].end = to_time;\r\n\t\t\tif(new Date(data[key].start).toString().substring(0,10) == event.events[0].start.toString().substring(0,10)){\r\n\t\t\t\tconsole.log(data[key].start)\r\n\t\t\t\tthis.activity.schedual_time[key].start = new Date(from_time).getTime();\r\n\t\t\t\tthis.activity.schedual_time[key].end = new Date(to_time).getTime();\r\n\t\t\t}\r\n\t\t\tthis.events.push({start:new Date(from_time),end:new Date(to_time)})\r\n\t\t\t}.bind(this));\r\n\t\t}\r\n\t\telse {\r\n\t\tif(this.activity.schedual_time.length < this.activity.session_count){\r\n\t\t\tthis.activity.schedual_time.push({start:new Date(from_time).getTime(),end:new Date(to_time).getTime()})\r\n\t\t\tevent.events.push({start:new Date(from_time).getTime(),end:new Date(to_time).getTime()})\r\n\t\t}else alert('you have select '+this.activity.schedual_time.length+ ' Times')\r\n\t\t}\r\n\t}\r\n\r\n  }\r\n\r\n\tgethoursandminutes(date,getampm=true){\r\n\r\n    var hours = date.getHours();\r\n     var minutes = date.getMinutes();\r\n     var ampm = hours >= 12 ? 'pm' : 'am';\r\n     hours = hours % 12;\r\n     hours = hours ? hours : 12; // the hour '0' should be '12'\r\n     minutes = minutes < 10 ? '0'+minutes : minutes;\r\n     hours = hours < 10 ? '0'+hours : hours;\r\n     if(!getampm) var strTime = hours + ':' + minutes;\r\n     else var strTime = hours + ':' + minutes + ' ' + ampm;\r\n     return strTime;\r\n  }\r\n\r\n  nexttab(index){\r\n\t  if(index==1){\r\n\t\tif(!this.checkValidationRquireData()){\r\n\t\t\tthis.errormessage = \"Please Enter all Required Fileds\"\r\n\t\t\tthis.hasFormErrors = true;\r\n\t\t\tdocument.querySelector('#alert').scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n\t\t\t\r\n\t\t}else{this.selectedTab = index;}\r\n\t  }\r\n\t  else{\r\n\t\tthis.selectedTab = index;\r\n\t  }\r\n  }\r\n\tcheckValidationRquireData() {\r\n\t\tif(this.activity.title && this.activity.fees &&\r\n\t\t\tthis.activity.payment_startegy &&\r\n\t\t\tthis.activity.type &&\r\n\t\t\tthis.activity.session_time &&\r\n\t\t\tthis.activity.users_count &&\r\n\t\t\tthis.activity.session_count &&\r\n\t\t\tthis.activity.start_date &&\r\n\t\t\tthis.activity.end_date\r\n\t\t\t){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\treturn false ;\r\n\t\t\t}\r\n\t\t// this.activity.branch_key =  res['data'][0].branch_key;\r\n\t\t// this.activity.units_key =  res['data'][0].units_key;\r\n\t\t// this.activity.discount =  res['data'][0].discount;\r\n\t\t// this.activity.start_discount =  res['data'][0].start_discount;\r\n\t\t// this.activity.end_discount =  res['data'][0].end_discount;\r\n\t\t// this.activity.image =  res['data'][0].image;\r\n\t\t// this.activity.discriptions =  res['data'][0].discriptions;\r\n\r\n\r\n\t}\r\n  checkedpermission(key: String) {\r\n\tlet checked = false\r\n\tif (localStorage.getItem('user')) {\r\n\r\n\t\tif (JSON.parse(localStorage.getItem('user'))) {\r\n\t\t\tlet user = JSON.parse(localStorage.getItem('user'))\r\n\r\n\t\t\tif (user['allPrivilidge']) {\r\n\t\t\t\tconst privilidge = user['allPrivilidge']\r\n\r\n\t\t\t\tObject.keys(privilidge).forEach(role => {\r\n\t\t\t\t\tObject.keys(privilidge[role]).forEach(pri => {\r\n\r\n\t\t\t\t\t\tlet per = (privilidge[role][pri].toString()).trim()\r\n\t\t\t\t\t\tif (key.trim() == per) {\r\n\t\t\t\t\t\t\tchecked = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn checked\r\n}\r\n\r\nopen() {\r\n\tlet message = 'Oh Snap ! You dont have permission to get this data';\r\n\tlet actionButtonLabel = '';\r\n\tlet action = true;\r\n\tlet setAutoHide = true;\r\n\tlet autoHide = 4000;\r\n\tlet horizontalPosition: MatSnackBarHorizontalPosition = 'center';\r\n\tlet verticalPosition: MatSnackBarVerticalPosition = 'top';\r\n\r\n\tlet addExtraClass = false;\r\n\tlet config = new MatSnackBarConfig();\r\n\tconfig.verticalPosition = verticalPosition;\r\n\tconfig.horizontalPosition = horizontalPosition;\r\n\tconfig.duration = setAutoHide ? autoHide : 0;\r\n\t//  config['extraClasses'] = addExtraClass ? ['warn-snackbar'] : undefined;\r\n\tconfig.panelClass = ['warn-snackbar'];\r\n\tthis.snackBar.open(message, action ? actionButtonLabel : undefined, config);\r\n}\r\n}\r\n","import { BaseModel } from '../../../../../core/_base/crud';\r\n\r\nexport class Activity extends BaseModel {\r\n        club_key: string;\r\n        branch_key: string;\r\n        units_key: string;\r\n        title: string;\r\n        // month_count: string;\r\n        // month_system: string;\r\n        fees: string;\r\n        taxs: string;\r\n        payment_startegy: string;\r\n        type: string;\r\n        discount: string;\r\n        start_discount: string;\r\n        end_discount: string;\r\n        image: string;\r\n        discriptions: string;\r\n        session_time: string;\r\n        //day_per_week: string;\r\n        users_count : string;\r\n        session_count : string;\r\n        start_date : string;\r\n        end_date : string;\r\n        schedual_time : any;\r\n        additional_visits: string;\r\n        additional_service: string;\r\n        additional_invitation: string;\r\n        status: string;\r\n\r\n    clear(): void {\r\n      this.club_key = '';\r\n      this.branch_key = '';\r\n      this.units_key = '';\r\n      this.title = '';\r\n      //this.month_count = '';\r\n      //this.month_system = '';\r\n      this.fees = '';\r\n      this.taxs = '';\r\n      this.payment_startegy = '';\r\n      this.type = '';\r\n      this.discount = '';\r\n      this.start_discount = '';\r\n      this.end_discount = '';\r\n      this.image = '';\r\n      this.discriptions = '';\r\n      this.session_time = '';\r\n      //this.day_per_week = '';\r\n      this.users_count = '';\r\n      this.session_count = '';\r\n      this.start_date = '';\r\n      this.end_date = '';\r\n      this.schedual_time = [];\r\n      this.additional_visits = '';\r\n      this.additional_service = '';\r\n      this.additional_invitation = '';\r\n      this.status = '';\r\n    }\r\n}\r\n","module.exports = \"<kt-portlet>\\r\\n\\t<!-- PORTLET LOADING | Binded to TABLE Datasource -->\\r\\n\\t<!-- See prop => '~/core/_crud/models/data-sources/_base.datasource.ts' (loading$) -->\\r\\n\\t<kt-portlet-header [title]=\\\"''\\\" [class]=\\\"'kt-portlet__head--lg'\\\" >\\r\\n\\t\\t<ng-container ktPortletTools>\\r\\n\\t\\t\\t<button (click)=\\\"addNewactivitiy()\\\" mat-raised-button color=\\\"primary\\\" matTooltip=\\\"Create new User\\\">New Activity</button>\\r\\n\\t\\t\\t<!-- Buttons (Material Angular) | See off.documenations 'https://material.angular.io/components/button/overview' -->\\r\\n\\t\\t\\t<!-- mat-raised-button | Rectangular contained button w/ elevation  -->\\r\\n\\t\\t</ng-container>\\r\\n\\t</kt-portlet-header>\\r\\n\\t<!-- end::Header -->\\r\\n\\r\\n\\t<!-- start::Body (attribute: ktPortletBody) -->\\r\\n\\t<div *ngIf=\\\"isLoading\\\" class=\\\"center\\\" style=\\\"padding: 150px;\\\">\\r\\n\\t\\t<mat-progress-spinner style=\\\"margin:0 auto;\\\" mode=\\\"indeterminate\\\" diameter=\\\"40\\\">\\r\\n\\t\\t</mat-progress-spinner>\\r\\n\\t</div>\\r\\n\\t<kt-portlet-body *ngIf=\\\"!isLoading\\\">\\r\\n\\r\\n\\t\\t<!-- start::FILTERS & GROUP ACTIONS -->\\r\\n\\t\\t<div class=\\\"kt-form\\\">\\r\\n\\t\\t\\t<!-- start::FILTERS -->\\r\\n\\t\\t\\t<div class=\\\"kt-form__filtration\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"row align-items-center\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-md-4 kt-margin-bottom-10-mobile\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<input matInput placeholder=\\\"Search Activitiy\\\" [(ngModel)]=\\\"SearchKey\\\" #searchInput placeholder=\\\"Search then Press Enter\\\" (keyup.enter)=\\\"applyFilter()\\\">\\r\\n\\t\\t\\t\\t\\t\\t   <button mat-button matSuffix mat-icon-button aria-label=\\\"Clear\\\" *ngIf=\\\"SearchKey\\\" (click)=\\\"onSearchClear()\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t   <mat-icon>close</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t   </button>\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<strong>Search</strong> in all fields\\r\\n\\t\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<!-- end::FILTERS -->\\r\\n\\r\\n\\t\\t\\t<!-- start::GROUP ACTIONS -->\\r\\n\\t\\t\\t<!-- Group actions list: 'Delete selected' | 'Fetch selected' | 'Update status for selected' -->\\r\\n\\t\\t\\t<!-- Group actions are shared for all LISTS -->\\r\\n\\t\\t\\t<div class=\\\"row align-items-center collapse kt-form__group-actions kt-margin-top-20 kt-margin-bottom-20\\\"\\r\\n\\t\\t\\t\\t[ngClass]=\\\"{'show' : selection.selected.length > 0}\\\"><!-- We show 'Group Actions' div if smth are selected -->\\r\\n\\t\\t\\t\\t<div class=\\\"col-xl-12\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"kt-form__group kt-form__group--inline\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"kt-form__label kt-form__label-no-wrap\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<label class=\\\"kt--font-bold kt-font-danger-\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span translate=\\\"ECOMMERCE.COMMON.SELECTED_RECORDS_COUNT\\\"></span> {{ selection.selected.length }}\\r\\n\\t\\t\\t\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- selectedCountsTitle => function from codeBehind (users-list.component.ts file) -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- selectedCountsTitle => just returns title of selected items count -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- for example: Selected records count: 4 -->\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"kt-form__control kt-form__group--inline\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<button (click)=\\\"fetchUsers()\\\" mat-raised-button matTooltip=\\\"Fetch selected users\\\"  class=\\\"mat-button-mt-4\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon>clear_all</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tFetch Selected\\r\\n\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<!-- end::GROUP ACTIONS -->\\r\\n\\t\\t</div>\\r\\n\\t\\t<!-- end::FILTERS & GROUP ACTIONS -->\\r\\n\\r\\n\\t\\t<!-- MATERIAL TABLE | Binded to datasources -->\\r\\n\\t\\t<!-- See off.documentations 'https://material.angular.io/components/table/overview' -->\\r\\n\\r\\n\\t\\t<div class=\\\"mat-table__wrapper\\\">\\r\\n\\t\\t\\t<mat-table class=\\\"lmat-elevation-z8\\\"\\r\\n\\t\\t\\t\\t#table\\r\\n\\t\\t\\t\\t[dataSource]=\\\"dataSource\\\"\\r\\n\\t\\t\\t\\tmatSort\\r\\n\\t\\t\\t\\t#sort1=\\\"matSort\\\"\\r\\n\\t\\t\\t\\tmatSortActive=\\\"id\\\"\\r\\n\\t\\t\\t\\tmatSortDirection=\\\"asc\\\"\\r\\n\\t\\t\\t\\tmatSortDisableClear>\\r\\n\\t\\t\\t\\t<!-- Checkbox Column -->\\r\\n\\r\\n\\t\\t\\t\\t<!-- Table with selection -->\\r\\n\\t\\t\\t\\t<!-- https://run.stackblitz.com/api/angular/v1?file=app%2Ftable-selection-example.ts -->\\r\\n\\t\\t\\t\\t<!-- <ng-container matColumnDef=\\\"select\\\">\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef class=\\\"mat-column-checkbox\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-checkbox (change)=\\\"$event ? masterToggle() : null\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t[checked]=\\\"selection.hasValue() && isAllSelected()\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t[indeterminate]=\\\"selection.hasValue() && !isAllSelected()\\\">\\r\\n\\t\\t\\t\\t\\t\\t</mat-checkbox>\\r\\n\\t\\t\\t\\t\\t</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let row\\\" class=\\\"mat-column-checkbox\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-checkbox (click)=\\\"$event.stopPropagation()\\\" (change)=\\\"$event ? selection.toggle(row) : null\\\" [checked]=\\\"selection.isSelected(row)\\\">\\r\\n\\t\\t\\t\\t\\t\\t</mat-checkbox>\\r\\n\\t\\t\\t\\t\\t</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container> -->\\r\\n\\r\\n\\t\\t\\t<ng-container matColumnDef=\\\"id\\\">\\r\\n\\t\\t\\t\\t<!-- ATTRIBUTE mat-sort-header  for sorting | https://material.angular.io/components/sort/overview -->\\r\\n\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header>#</mat-header-cell>\\r\\n\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let activity\\\">{{activity.increment}}</mat-cell>\\r\\n\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"title\\\">\\r\\n\\t\\t\\t\\t\\t<!-- ATTRIBUTE mat-sort-header  for sorting | https://material.angular.io/components/sort/overview -->\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header >Title</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let activity\\\" >{{activity.title}}</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"discriptions\\\">\\r\\n\\t\\t\\t\\t\\t<!-- ATTRIBUTE mat-sort-header  for sorting | https://material.angular.io/components/sort/overview -->\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header  >Discriptions</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let activity\\\"  >{{activity.discriptions}}</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"type\\\">\\r\\n\\t\\t\\t\\t\\t<!-- ATTRIBUTE mat-sort-header  for sorting | https://material.angular.io/components/sort/overview -->\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header >Type</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let activity\\\" >{{activity.type}}</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"status\\\">\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header >Status</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell  *matCellDef=\\\"let invitation\\\" >\\r\\n\\t\\t\\t\\t\\t\\t<span *ngIf=\\\"invitation.status=='true'\\\" class=\\\"kt-badge kt-badge--inline kt-badge--pill kt-badge--success kt-badge--wide\\\">Active</span>\\r\\n\\t\\t\\t\\t\\t\\t<span *ngIf=\\\"invitation.status=='false'\\\" class=\\\"kt-badge kt-badge--inline kt-badge--pill kt-badge--danger kt-badge--wide\\\">Deactive</span>\\r\\n\\t\\t\\t\\t\\t</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"actions\\\" >\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef style=\\\"max-width:100px\\\">Actions</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let activity;let rowIndex = index\\\" style=\\\"max-width:100px\\\">\\r\\n\\t\\t\\t\\t\\t\\t<button (click)=\\\"editactivities(activity._id)\\\" mat-icon-button color=\\\"primary\\\"  matTooltip=\\\"Edit Packages\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-icon>create</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t</button>&nbsp;\\r\\n\\t\\t\\t\\t\\t\\t<mat-progress-spinner *ngIf=\\\"rowIndex == currentRowIndex\\\" style=\\\"margin:0 auto;\\\"mode=\\\"indeterminate\\\" diameter=\\\"30\\\">\\r\\n\\t\\t\\t\\t\\t\\t</mat-progress-spinner>\\r\\n\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t<button *ngIf=\\\"activity.status=='true' && rowIndex != currentRowIndex\\\" mat-icon-button color=\\\"warn\\\" matTooltip=\\\"Deactive Packages\\\" type=\\\"button\\\"  (click)=\\\"deactiveactivities(activity._id,false ,rowIndex)\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-icon>delete</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t<button *ngIf=\\\"activity.status=='false' && rowIndex != currentRowIndex\\\" mat-icon-button color=\\\"primary\\\" matTooltip=\\\"Active Packages\\\" type=\\\"button\\\"  (click)=\\\"deactiveactivities(activity._id,true ,rowIndex)\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-icon>cached</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n                <ng-container matColumnDef=\\\"loading\\\">\\r\\n                 <mat-footer-cell *matFooterCellDef colspan=\\\"6\\\">\\r\\n                   Loading...\\r\\n\\t\\t\\t\\t </mat-footer-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></mat-header-row>\\r\\n\\r\\n\\t\\t\\t\\t<mat-row *matRowDef=\\\"let row; columns: displayedColumns\\\"></mat-row>\\r\\n\\t\\t\\t\\t<mat-footer-row *matFooterRowDef=\\\"['loading']\\\" [ngClass]=\\\"{'hide':checkedinvitations()}\\\"></mat-footer-row>\\r\\n\\r\\n\\t\\t\\t</mat-table>\\r\\n\\t\\t\\t<mat-paginator (page)=\\\"nextPage($event)\\\" [pageSizeOptions]=\\\"[5,10,25,100]\\\" [pageSize]=\\\"10\\\"></mat-paginator>\\r\\n        </div>\\r\\n\\t\\t<!-- end: BOTTOM -->\\r\\n\\t</kt-portlet-body>\\r\\n\\t<!-- end::Body -->\\r\\n</kt-portlet>\\r\\n\"","import { AfterViewInit, AfterViewChecked } from '@angular/core';\r\n// Angular\r\nimport { Component,ViewEncapsulation ,OnInit, ElementRef, ViewChild, ChangeDetectionStrategy, OnDestroy, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n// Material\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\nimport { MatPaginator, MatSort, MatSnackBar, MatDialog, MatTableDataSource } from '@angular/material';\r\n// RXJS\r\nimport { debounceTime, distinctUntilChanged, tap, skip, take, delay, map } from 'rxjs/operators';\r\nimport { fromEvent, merge, Observable, of, Subscription } from 'rxjs';\r\n// LODASH\r\nimport { each, find } from 'lodash';\r\n\r\n// NGRX\r\nimport { Store, select } from '@ngrx/store';\r\nimport { AppState } from '../../../../core/reducers';\r\n\r\n// Services\r\nimport { LayoutUtilsService, MessageType, QueryParamsModel } from '../../../../core/_base/crud';\r\nimport { MembershipService } from '../../../../core/auth/_services'\r\nimport { ActivityEditDialogComponent } from './activities-edit/activities-edit.dialog.component';\r\n\r\nimport {\r\n\t\r\n\tMatSnackBarConfig,\r\n\tMatSnackBarHorizontalPosition,\r\n\tMatSnackBarVerticalPosition,\r\n} from '@angular/material';\r\n\r\n\r\n// Table with EDIT item in MODAL\r\n// ARTICLE for table with sort/filter/paginator\r\n// https://blog.angular-university.io/angular-material-data-table/\r\n// https://v5.material.angular.io/components/table/overview\r\n// https://v5.material.angular.io/components/sort/overview\r\n// https://v5.material.angular.io/components/table/overview#sorting\r\n// https://www.youtube.com/watch?v=NSt9CI3BXv4\r\n@Component({\r\n\tselector: 'kt-activities',\r\n\ttemplateUrl: './activities.component.html',\r\n\tstyleUrls: ['../membership.scss'],\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\r\n\tencapsulation: ViewEncapsulation.None\r\n})\r\nexport class ActivityComponent implements OnInit, OnDestroy {\r\n\t// Table fields\r\n\tdataSource;\r\n\tlistData:MatTableDataSource<any>;\r\n\tselection = new SelectionModel<any>(true, []);\r\n\tdisplayedColumns = [ 'id', 'title' ,'discriptions' ,'type','status', 'actions'];\r\n\t@ViewChild(MatPaginator) paginator: MatPaginator;\r\n//@ViewChild(MatSort) sort: MatSort;\r\n\t// Filter fields\r\n\t@ViewChild('searchInput') searchInput: ElementRef;\r\n\tlastQuery: QueryParamsModel;\r\n\tSearchKey: string;\r\n\tselectedUser;\r\n\thasMessages: boolean = false;\r\n\tcheckdata: boolean = false;\r\n\tisLoading: boolean = false;\r\n\t// Subscriptions\r\n\tprivate subscriptions: Subscription[] = [];\r\n\tcurrentRowIndex: Number=-1;\r\n\r\n\t/**\r\n\t *\r\n\t * @param activatedRoute: ActivatedRoute\r\n\t * @param store: Store<AppState>\r\n\t * @param router: Router\r\n\t * @param layoutUtilsService: LayoutUtilsService\r\n\t */\r\n\tconstructor(\r\n\t\tprivate activatedRoute: ActivatedRoute,\r\n\t\tprivate store: Store<AppState>,\r\n\t\tprivate router: Router,\r\n\t\tprivate layoutUtilsService: LayoutUtilsService,\r\n\t\tpublic dialog: MatDialog,\r\n\t\tpublic snackBar: MatSnackBar,\r\n\r\n\t\tprivate ser: MembershipService,\r\n\t    private changeDetectorRefs: ChangeDetectorRef\r\n\r\n\t) { }\r\n\t/**\r\n\t * @ Lifecycle sequences => https://angular.io/guide/lifecycle-hooks\r\n\t */\r\n\r\n\t/**\r\n\t * On init\r\n\t */\r\n\tngOnInit() {\r\n\t\t//this.dataSource=[];\r\n\t\tthis.getallactivities()\r\n\t}\r\n\r\n\t// ngAfterViewInit()\r\n\t// {\r\n\t// \tthis.getallactivities()\r\n\r\n\t// }\r\n\t/**\r\n\t * On Destroy\r\n\t */\r\n\tngOnDestroy() {\r\n\t\tthis.subscriptions.forEach(el => el.unsubscribe());\r\n\t}\r\n\taddNewactivitiy() {\r\n\t\tif(this.checkedpermission('addactivities'))\r\n\t\t{\r\n\t\tconst dialogRef = this.dialog.open(ActivityEditDialogComponent, { data: {} });\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Close alert\r\n\t *\r\n\t * @param $event: Event\r\n\t */\r\n\tonAlertClose($event) {\r\n\t\tthis.hasMessages = false;\r\n\t}\r\n\r\n\r\n\tgetallactivities(pages = 1, prepage = 30, search = null) {\r\n\t\tthis.isLoading=true;\r\n        if(this.checkedpermission('getactivities')){\r\n\t\tthis.ser.getallactivities(pages, prepage, search).subscribe(\r\n\r\n\t\t\tres => {\r\n               console.log(res['result'])\r\n\t\t\t\tif (res['result']) {\r\n\t\t\t\t\tthis.dataSource = new MatTableDataSource( res['data']);\r\n\t\t\t\t\tthis.changeDetectorRefs.detectChanges();\r\n\t\t\t\t}\r\n\t\t\t\tthis.isLoading=false;\r\n\t\t\t\tthis.changeDetectorRefs.detectChanges();\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\t\r\n}\r\n\r\n\teditactivities(id) {\r\n\t\tif(this.checkedpermission('editactivities')){\r\n\t\tconst dialogRef = this.dialog.open(ActivityEditDialogComponent, { data: {id} });\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.open()\r\n\t\t}\r\n\t}\r\n\r\n\t// deactiveactivities(id, status) {\r\n\t// \tif (this.checkedpermission('editactivities')) {\r\n\t// \t\tthis.ser.updateactivities(id, { status }).subscribe(\r\n\t// \t\t\tres => {\r\n\t// \t\t\t\tif (this.router.url == '/default/membership/activities')\r\n\t// \t\t\t\t\tthis.router.navigateByUrl(\"/default/membership/activitie\");\r\n\t// \t\t\t\telse this.router.navigateByUrl(\"/default/membership/activities\");\r\n\t// \t\t\t}\r\n\t// \t\t)\r\n\t// \t}\r\n\t// \telse {\r\n\t// \t\tthis.open()\r\n\t// \t}\r\n\t// }\r\n\tdeactiveactivities(id, status ,rowIndex) {\r\n\t\tif (this.checkedpermission('editactivities')) {\r\n\t\tthis.currentRowIndex = rowIndex;\r\n\t\tif(!status){\r\n\t\t\tconst _title: string = 'Deactive Activitiy';\r\n\t\t\tconst _description: string = 'Are you sure to Deactive this Activitiy?';\r\n\t\t\tconst _waitDesciption: string = 'Processing...';\r\n\t\t\tconst dialogRef = this.layoutUtilsService.RenwElement(_title, _description, _waitDesciption);\r\n\t\t\tdialogRef.afterClosed().subscribe(res => {\r\n\t\t\t\tif (!res) {\r\n\t\t\t\t\tthis.currentRowIndex=-1;\r\n\t\t\t\t\tthis.changeDetectorRefs.detectChanges();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.activeDeactiveDB(id, status ,rowIndex);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.activeDeactiveDB(id, status ,rowIndex);\r\n\t\t}\r\n\t}\r\n\t\telse {\r\n\t\t\tthis.open()\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tactiveDeactiveDB(id, status ,rowIndex){\r\n\t\tconst stateTxt=(status)?'Active':'Deactive'\r\n\t\tthis.ser.updateactivities(id, { status }).subscribe(\r\n\t\t\tres => {\r\n\t\t\t\tif(res['result']){\r\n\t\t\t\t\t// if (this.router.url == '/default/membership/packages')\r\n\t\t\t\t\t// \tthis.router.navigateByUrl(\"/default/membership/package\");\r\n\t\t\t\t\t// else this.router.navigateByUrl(\"/default/membership/packages\");\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.layoutUtilsService.showActionNotification('Activity Has Been '+stateTxt+'d Successfully', MessageType.Update);\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t\tthis.dataSource[\"data\"][rowIndex][\"status\"]=status.toString();\r\n\t\t\t\t\tthis.changeDetectorRefs.detectChanges();\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.layoutUtilsService.showActionNotification('Error While '+stateTxt+' Activity', MessageType.Update);\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t}\r\n\t\t\t\tthis.currentRowIndex=-1;\r\n\t\t\t\tthis.changeDetectorRefs.detectChanges();\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\t\r\n\r\n\tapplyFilter() {\r\n\r\n\t\t//this.listData.filter=this.SearchKey.trim().toLowerCase()\r\n\t\tconsole.log(this.searchInput.nativeElement.value)\r\n\t\tthis.getallactivities(null, null, this.searchInput.nativeElement.value)\r\n\t}\r\n\tonSearchClear() {\r\n\t\tthis.SearchKey='';\r\n\t\tthis.searchInput.nativeElement.value = '';\r\n\t\tthis.applyFilter()\r\n\t}\r\n\tnextPage(event) {\r\n\r\n\t\tthis.getallactivities(event.pageIndex + 1, event.pageSize, null)\r\n\t}\r\n\t//checked if there is inivitations or not\r\n\tcheckedinvitations() {\r\n\t\tif (this.dataSource) {\r\n\t\t\tif (this.dataSource.data) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t\telse return false\r\n\t\t}\r\n\t\telse false\r\n\t}\r\n\tcheckedpermission(key: String) {\r\n\t\tlet checked = false\r\n\t\tif (localStorage.getItem('user')) {\r\n\r\n\t\t\tif (JSON.parse(localStorage.getItem('user'))) {\r\n\t\t\t\tlet user = JSON.parse(localStorage.getItem('user'))\r\n\r\n\t\t\t\tif (user['allPrivilidge']) {\r\n\t\t\t\t\tconst privilidge = user['allPrivilidge']\r\n\r\n\t\t\t\t\tObject.keys(privilidge).forEach(role => {\r\n\t\t\t\t\t\tObject.keys(privilidge[role]).forEach(pri => {\r\n\r\n\t\t\t\t\t\t\tlet per = (privilidge[role][pri].toString()).trim()\r\n\t\t\t\t\t\t\tif (key.trim() == per) {\r\n\t\t\t\t\t\t\t\tchecked = true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn checked\r\n\t}\r\n\r\n\topen() {\r\n\t\tlet message = 'Oh Snap ! You dont have permission to get this data';\r\n\t\tlet actionButtonLabel = '';\r\n\t\tlet action = true;\r\n\t\tlet setAutoHide = true;\r\n\t\tlet autoHide = 4000;\r\n\t\tlet horizontalPosition: MatSnackBarHorizontalPosition = 'center';\r\n\t\tlet verticalPosition: MatSnackBarVerticalPosition = 'top';\r\n\r\n\t\tlet addExtraClass = false;\r\n\t\tlet config = new MatSnackBarConfig();\r\n\t\tconfig.verticalPosition = verticalPosition;\r\n\t\tconfig.horizontalPosition = horizontalPosition;\r\n\t\tconfig.duration = setAutoHide ? autoHide : 0;\r\n\t\t//  config['extraClasses'] = addExtraClass ? ['warn-snackbar'] : undefined;\r\n\t\tconfig.panelClass = ['warn-snackbar'];\r\n\t\tthis.snackBar.open(message, action ? actionButtonLabel : undefined, config);\r\n\t}\r\n\tfetchUsers(){\r\n\r\n\t}\r\n}\r\n","module.exports = \"\\r\\n@import url(\\\"http://keenthemes.com/preview/metronic/theme/assets/global/plugins/bootstrap-fileinput/bootstrap-fileinput.css\\\");\\n/* @import url(\\\"http://keenthemes.com/preview/metronic/theme/assets/global/plugins/bootstrap/css/bootstrap.min.css\\\"); */\\n.warn-snackbar{\\r\\n    background-color: #ff4081;\\r\\n  }\\n::ng-deep .mat-select-content{\\r\\n    width:2000px;\\r\\n    background-color: red;\\r\\n    font-size: 10px;   \\r\\n}\\n.mat-column-discriptions {\\r\\n  word-wrap: break-word !important;\\r\\n  white-space: unset !important;\\r\\n  flex: 0 0 25% !important;\\r\\n  width: 25% !important;\\r\\n  overflow-wrap: break-word;\\r\\n  word-wrap: break-word;\\r\\n  word-break: break-word;\\r\\n  -ms-hyphens: auto;\\r\\n  -webkit-hyphens: auto;\\r\\n  hyphens: auto;\\r\\n}\\n.mat-column-title,.mat-column-type , .mat-column-status ,.mat-column-image {\\r\\n  word-wrap: break-word !important;\\r\\n  white-space: unset !important;\\r\\n  flex: 0 0 15% !important;\\r\\n  width: 15% !important;\\r\\n  overflow-wrap: break-word;\\r\\n  word-wrap: break-word;\\r\\n  word-break: break-word;\\r\\n  -ms-hyphens: auto;\\r\\n  -webkit-hyphens: auto;\\r\\n  hyphens: auto;\\r\\n}\\n.mat-column-id {\\r\\n  flex: 0 0 5% !important;\\r\\n  width: 5% !important;\\r\\n}\\n.imagMaxWH {\\r\\n  max-width: 80px;\\r\\n  max-height: 60px;\\r\\n  border-radius: 6px;\\r\\n  width: 60px;\\r\\n  height: 40px;\\r\\n}\\n.GroupFormCls{\\r\\n  margin-bottom: 2px !important;\\r\\n  border: 1px solid #eee !important;\\r\\n  padding: 15px;\\r\\n}\\n.GroupFormHeaderCls{\\r\\n  /* text-align: center; */\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlld3MvcGFnZXMvbWVtYmVyc2hpcC9tZW1iZXJzaGlwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLDZIQUE2SDtBQUQ3SCx1SEFBdUg7QUFFdkg7SUFDSSx5QkFBeUI7RUFDM0I7QUFDQTtJQUNFLFlBQVk7SUFDWixxQkFBcUI7SUFDckIsZUFBZTtBQUNuQjtBQUNBO0VBQ0UsZ0NBQWdDO0VBQ2hDLDZCQUE2QjtFQUM3Qix3QkFBd0I7RUFDeEIscUJBQXFCO0VBQ3JCLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsc0JBQXNCO0VBQ3RCLGlCQUFpQjtFQUVqQixxQkFBcUI7RUFDckIsYUFBYTtBQUNmO0FBQ0E7RUFDRSxnQ0FBZ0M7RUFDaEMsNkJBQTZCO0VBQzdCLHdCQUF3QjtFQUN4QixxQkFBcUI7RUFDckIseUJBQXlCO0VBQ3pCLHFCQUFxQjtFQUNyQixzQkFBc0I7RUFDdEIsaUJBQWlCO0VBRWpCLHFCQUFxQjtFQUNyQixhQUFhO0FBQ2Y7QUFDQTtFQUNFLHVCQUF1QjtFQUN2QixvQkFBb0I7QUFDdEI7QUFDQTtFQUNFLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxZQUFZO0FBQ2Q7QUFFQTtFQUNFLDZCQUE2QjtFQUM3QixpQ0FBaUM7RUFDakMsYUFBYTtBQUNmO0FBRUE7RUFDRSx3QkFBd0I7RUFDeEIsbUJBQW1CO0FBQ3JCIiwiZmlsZSI6InNyYy9hcHAvdmlld3MvcGFnZXMvbWVtYmVyc2hpcC9tZW1iZXJzaGlwLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAaW1wb3J0IHVybChcImh0dHA6Ly9rZWVudGhlbWVzLmNvbS9wcmV2aWV3L21ldHJvbmljL3RoZW1lL2Fzc2V0cy9nbG9iYWwvcGx1Z2lucy9ib290c3RyYXAvY3NzL2Jvb3RzdHJhcC5taW4uY3NzXCIpOyAqL1xyXG5AaW1wb3J0IHVybChcImh0dHA6Ly9rZWVudGhlbWVzLmNvbS9wcmV2aWV3L21ldHJvbmljL3RoZW1lL2Fzc2V0cy9nbG9iYWwvcGx1Z2lucy9ib290c3RyYXAtZmlsZWlucHV0L2Jvb3RzdHJhcC1maWxlaW5wdXQuY3NzXCIpO1xyXG4ud2Fybi1zbmFja2JhcntcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZjQwODE7XHJcbiAgfVxyXG4gIDo6bmctZGVlcCAubWF0LXNlbGVjdC1jb250ZW50e1xyXG4gICAgd2lkdGg6MjAwMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xyXG4gICAgZm9udC1zaXplOiAxMHB4OyAgIFxyXG59XHJcbi5tYXQtY29sdW1uLWRpc2NyaXB0aW9ucyB7XHJcbiAgd29yZC13cmFwOiBicmVhay13b3JkICFpbXBvcnRhbnQ7XHJcbiAgd2hpdGUtc3BhY2U6IHVuc2V0ICFpbXBvcnRhbnQ7XHJcbiAgZmxleDogMCAwIDI1JSAhaW1wb3J0YW50O1xyXG4gIHdpZHRoOiAyNSUgIWltcG9ydGFudDtcclxuICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xyXG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcclxuICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xyXG4gIC1tcy1oeXBoZW5zOiBhdXRvO1xyXG4gIC1tb3otaHlwaGVuczogYXV0bztcclxuICAtd2Via2l0LWh5cGhlbnM6IGF1dG87XHJcbiAgaHlwaGVuczogYXV0bztcclxufVxyXG4ubWF0LWNvbHVtbi10aXRsZSwubWF0LWNvbHVtbi10eXBlICwgLm1hdC1jb2x1bW4tc3RhdHVzICwubWF0LWNvbHVtbi1pbWFnZSB7XHJcbiAgd29yZC13cmFwOiBicmVhay13b3JkICFpbXBvcnRhbnQ7XHJcbiAgd2hpdGUtc3BhY2U6IHVuc2V0ICFpbXBvcnRhbnQ7XHJcbiAgZmxleDogMCAwIDE1JSAhaW1wb3J0YW50O1xyXG4gIHdpZHRoOiAxNSUgIWltcG9ydGFudDtcclxuICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xyXG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcclxuICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xyXG4gIC1tcy1oeXBoZW5zOiBhdXRvO1xyXG4gIC1tb3otaHlwaGVuczogYXV0bztcclxuICAtd2Via2l0LWh5cGhlbnM6IGF1dG87XHJcbiAgaHlwaGVuczogYXV0bztcclxufVxyXG4ubWF0LWNvbHVtbi1pZCB7XHJcbiAgZmxleDogMCAwIDUlICFpbXBvcnRhbnQ7XHJcbiAgd2lkdGg6IDUlICFpbXBvcnRhbnQ7XHJcbn1cclxuLmltYWdNYXhXSCB7XHJcbiAgbWF4LXdpZHRoOiA4MHB4O1xyXG4gIG1heC1oZWlnaHQ6IDYwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gIHdpZHRoOiA2MHB4O1xyXG4gIGhlaWdodDogNDBweDtcclxufVxyXG5cclxuLkdyb3VwRm9ybUNsc3tcclxuICBtYXJnaW4tYm90dG9tOiAycHggIWltcG9ydGFudDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjZWVlICFpbXBvcnRhbnQ7XHJcbiAgcGFkZGluZzogMTVweDtcclxufVxyXG5cclxuLkdyb3VwRm9ybUhlYWRlckNsc3tcclxuICAvKiB0ZXh0LWFsaWduOiBjZW50ZXI7ICovXHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufSJdfQ== */\"","module.exports = \"<!-- <div *ngIf=\\\"hasUserAccess$ | async\\\">\\r\\n    <router-outlet></router-outlet>\\r\\n</div> -->\\r\\n<div>\\r\\n    <router-outlet></router-outlet>\\r\\n</div>\\r\\n\"","// Angular\r\nimport { Component, ChangeDetectionStrategy, OnInit, OnDestroy } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n// RxJS\r\nimport { Observable } from 'rxjs';\r\n// NGRX\r\nimport { Store, select } from '@ngrx/store';\r\n// AppState\r\nimport { AppState } from '../../../core/reducers';\r\n// Auth\r\nimport { Permission } from '../../../core/auth';\r\n\r\nconst userManagementPermissionId: number = 2;\r\n@Component({\r\n\tselector: 'kt-membership',\r\n\ttemplateUrl: './membership.component.html',\r\n\tstyleUrls: ['./membership.component.css'],\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class MembershipComponent implements OnInit {\r\n\t// Public properties\r\n\t// hasUserAccess$: Observable<boolean>;\r\n\tcurrentUserPermission$: Observable<Permission[]>;\r\n\r\n\t/**\r\n\t * Component constructor\r\n\t *\r\n\t * @param store: Store<AppState>\r\n\t * @param router: Router\r\n\t */\r\n\tconstructor(private store: Store<AppState>, private router: Router) {\r\n\t}\r\n\r\n\t/**\r\n\t * @ Lifecycle sequences => https://angular.io/guide/lifecycle-hooks\r\n\t */\r\n\r\n\t/**\r\n\t * On init\r\n\t */\r\n\tngOnInit() {\r\n\t\t// this.currentUserPermission$ = this.store.pipe(select(currentUserPermissions));\r\n\t\t// this.currentUserPermission$.subscribe(permissions => {\r\n\t\t// \tif (permissions && permissions.length > 0) {\r\n\t\t// \t\tthis.hasUserAccess$ =\r\n\t\t// \t\t\tthis.store.pipe(select(checkHasUserPermission(userManagementPermissionId)));\r\n\t\t// \t\tthis.hasUserAccess$.subscribe(res => {\r\n\t\t// \t\t\tif (!res) {\r\n\t\t// \t\t\t\tthis.router.navigateByUrl('/error/403');\r\n\t\t// \t\t\t}\r\n\t\t// \t\t});\r\n\t\t// \t}\r\n\t\t// });\r\n\t}\r\n}\r\n","// Angular\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\n// NGRX\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { EffectsModule } from '@ngrx/effects';\r\n// Translate\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { PartialsModule } from '../../partials/partials.module';\r\n// Services\r\nimport { HttpUtilsService, TypesUtilsService, InterceptService, LayoutUtilsService} from '../../../core/_base/crud';\r\n// Shared\r\nimport { ActionNotificationComponent } from '../../partials/content/crud';\r\nimport { CodePreviewModule } from '../../partials/content/general/code-preview/code-preview.module';\r\nimport { MaterialPreviewModule } from '../../partials/content/general/material-preview/material-preview.module';\r\n// Components\r\nimport { MembershipComponent } from './membership.component';\r\nimport { PackagesComponent } from './packages/packages.component';\r\nimport { ActivityComponent } from './activities/activities.component';\r\nimport { PackagesEditDialogComponent } from './packages/packages-edit/packages-edit.dialog.component';\r\nimport { ActivityEditDialogComponent } from './activities/activities-edit/activities-edit.dialog.component';\r\n// import { FileSelectDirective } from 'ng2-file-upload';\r\nimport { CustomFormsModule } from 'ng2-validation';\r\n\r\n//guard\r\nimport {PermissionGuard} from '../../../core/auth/_guards/permission.guard'\r\nimport { FlatpickrModule } from 'angularx-flatpickr';\r\nimport { CalendarModule, DateAdapter } from 'angular-calendar';\r\nimport { adapterFactory } from 'angular-calendar/date-adapters/date-fns';\r\nimport { NgbModalModule } from '@ng-bootstrap/ng-bootstrap';\r\n//import { FileUploadModule } from '../../../../../node_modules/ng2-file-upload/file-upload/file-upload.module.d';\r\nimport { SharedModule } from '../sharing.module';\r\n// Material\r\nimport {\r\n\tMatInputModule,\r\n\tMatPaginatorModule,\r\n\tMatProgressSpinnerModule,\r\n\tMatSortModule,\r\n\tMatTableModule,\r\n\tMatSelectModule,\r\n\tMatMenuModule,\r\n\tMatProgressBarModule,\r\n\tMatButtonModule,\r\n\tMatCheckboxModule,\r\n\tMatDialogModule,\r\n\tMatTabsModule,\r\n\tMatNativeDateModule,\r\n\tMatCardModule,\r\n\tMatRadioModule,\r\n\tMatIconModule,\r\n\tMatDatepickerModule,\r\n\tMatExpansionModule,\r\n\tMatTreeModule,\r\n\tMatAutocompleteModule,\r\n\tMAT_DIALOG_DEFAULT_OPTIONS,\r\n\tMatSnackBarModule,\r\n\tMatTooltipModule\r\n} from '@angular/material';\r\nimport {\r\n\tusersReducer,\r\n\tUserEffects\r\n} from '../../../core/auth';\r\nimport { FileUploadModule } from 'ng2-file-upload';\r\nimport { Ng2ImgMaxModule } from 'ng2-img-max';\r\n\r\nconst routes: Routes = [\r\n\t{\r\n\t\tpath: '',\r\n\t\tcomponent: MembershipComponent,\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: '',\r\n\t\t\t\tredirectTo: 'packages',\r\n\t\t\t\tpathMatch: 'full',\r\n\t\t\t\tdata:{title:'packages'},\r\n\r\n\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'Memberships',\r\n\t\t\t\tcomponent: PackagesComponent,\r\n\t\t\t\tdata:{title:'packages'},\r\n\t\t\t\tcanActivate:[PermissionGuard]\r\n\t\t\t}\r\n\t\t\t,\r\n\t\t\t{\r\n\t\t\t\tpath: 'Membership',\r\n\t\t\t\tcomponent: PackagesComponent,\r\n\t\t\t\tdata:{title:'packages'},\r\n\t\t\t\tcanActivate:[PermissionGuard]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'activities',\r\n\t\t\t\tcomponent: ActivityComponent,\r\n\t\t\t\tdata:{title:'activities'},\r\n\t\t\t\tcanActivate:[PermissionGuard]\r\n\t\t\t}\r\n\t\t\t,\r\n\t\t\t{\r\n\t\t\t\tpath: 'activitie',\r\n\t\t\t\tcomponent: ActivityComponent,\r\n\t\t\t\tdata:{title:'activities'},\r\n\t\t\t\tcanActivate:[PermissionGuard]\r\n\t\t\t},\r\n\t\t]\r\n\t}\r\n];\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tCustomFormsModule,\r\n\t\tCommonModule,\r\n\t\tHttpClientModule,\r\n\t\tSharedModule,\r\n\t\tPartialsModule,\r\n\t\tRouterModule.forChild(routes),\r\n\t\tStoreModule.forFeature('users', usersReducer),\r\n    EffectsModule.forFeature([UserEffects]),\r\n\t\tFormsModule,\r\n\t\tReactiveFormsModule,\r\n\t\tTranslateModule.forChild(),\r\n\t\tMatButtonModule,\r\n\t\tMatMenuModule,\r\n\t\tMatSelectModule,\r\n    MatInputModule,\r\n\t\tMatTableModule,\r\n\t\tMatAutocompleteModule,\r\n\t\tMatRadioModule,\r\n\t\tMatIconModule,\r\n\t\tMatNativeDateModule,\r\n\t\tMatProgressBarModule,\r\n\t\tMatDatepickerModule,\r\n\t\tMatCardModule,\r\n\t\tMatPaginatorModule,\r\n\t\tMatSortModule,\r\n\t\tMatCheckboxModule,\r\n\t\tMatProgressSpinnerModule,\r\n\t\tMatSnackBarModule,\r\n\t\tMatExpansionModule,\r\n\t\tMatTabsModule,\r\n\t\tMatTooltipModule,\r\n\t\tMatDialogModule,\r\n\t\tCodePreviewModule,\r\n\t\tMaterialPreviewModule,\r\n\t\tMatTreeModule,\r\n\t\tNgbModalModule,\r\n\t\tFlatpickrModule.forRoot(),\r\n\t\tCalendarModule.forRoot({\r\n\t\t\tprovide: DateAdapter,\r\n\t\t\tuseFactory: adapterFactory\r\n\t\t}) , \r\n\t\tFileUploadModule,\r\n\t\tNg2ImgMaxModule\r\n\t],\r\n\tproviders: [\r\n\t\tInterceptService,\r\n\t\t{\r\n        \tprovide: HTTP_INTERCEPTORS,\r\n       \t \tuseClass: InterceptService,\r\n\t\t\tmulti: true\r\n\t\t},\r\n\t\t{\r\n\t\t\tprovide: MAT_DIALOG_DEFAULT_OPTIONS,\r\n\t\t\tuseValue: {\r\n\t\t\t\thasBackdrop: true,\r\n\t\t\t\tpanelClass: 'kt-mat-dialog-container__wrapper',\r\n\t\t\t\theight: 'auto',\r\n\t\t\t\twidth: '900px'\r\n\t\t\t}\r\n\t\t},\r\n\t\tHttpUtilsService,\r\n\t\tTypesUtilsService,\r\n\t\tLayoutUtilsService,\r\n\t\tPermissionGuard\r\n\t],\r\n\tentryComponents: [\r\n\t\tActionNotificationComponent,\r\n\t\tPackagesEditDialogComponent,\r\n\t\tActivityEditDialogComponent\r\n\t],\r\n\tdeclarations: [\r\n\t\tMembershipComponent,\r\n\t\tPackagesComponent,\r\n\t\tPackagesEditDialogComponent,\r\n\t\tActivityComponent,\r\n\t\tActivityEditDialogComponent,\r\n\t\t// FileSelectDirective\r\n\t]\r\n})\r\nexport class MembershipModule {}\r\n","module.exports = \".hide {\\n  display: none; }\\n\\nmat-footer-row mat-footer-cell {\\n  justify-content: center; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlld3MvcGFnZXMvbWVtYmVyc2hpcC9FOlxcR0VNSU5cXGd5bWluLTIuMC1zYWFzLWZyb250ZW5kL3NyY1xcYXBwXFx2aWV3c1xccGFnZXNcXG1lbWJlcnNoaXBcXG1lbWJlcnNoaXAuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQ0osRUFBQTs7QUFDQTtFQUNBLHVCQUF1QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvdmlld3MvcGFnZXMvbWVtYmVyc2hpcC9tZW1iZXJzaGlwLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaGlkZXtcclxuICAgIGRpc3BsYXk6IG5vbmVcclxufVxyXG5tYXQtZm9vdGVyLXJvdyAgbWF0LWZvb3Rlci1jZWxse1xyXG5qdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHJcbn0iXX0= */\"","module.exports = \"<div class=\\\"kt-portlet\\\"\\r\\n    [ngClass]=\\\"{ 'kt-portlet--body-progress' : viewLoading, 'kt-portlet--body-progress-overlay' : loadingAfterSubmit }\\\">\\r\\n    <div class=\\\"kt-portlet__head kt-portlet__head__custom\\\">\\r\\n        <div class=\\\"kt-portlet__head-label\\\">\\r\\n            <h3 class=\\\"kt-portlet__head-title\\\">{{ getTitle() }}</h3>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div>\\r\\n        <div *ngIf=\\\"isLoading\\\" class=\\\"center\\\" style=\\\"padding: 150px;\\\">\\r\\n            <mat-progress-spinner style=\\\"margin:0 auto;\\\" mode=\\\"indeterminate\\\" diameter=\\\"40\\\">\\r\\n            </mat-progress-spinner>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"kt-form\\\" *ngIf=\\\"!isLoading\\\">\\r\\n            <div class=\\\"kt-portlet__body\\\">\\r\\n\\r\\n                <div class=\\\"kt-portlet__body-progress\\\">\\r\\n                    <mat-spinner [diameter]=\\\"40\\\"></mat-spinner>\\r\\n                </div>\\r\\n                <div id=\\\"alert\\\" #alert>\\r\\n                    <kt-alert *ngIf=\\\"hasFormErrors\\\" type=\\\"warn\\\" [duration]=\\\"30000\\\" [showCloseButton]=\\\"true\\\"\\r\\n                        (close)=\\\"onAlertClose($event)\\\">\\r\\n                        {{errormessage}}\\r\\n                    </kt-alert>\\r\\n                </div>\\r\\n                <div class=\\\"form-group kt-form__group GroupFormCls\\\">\\r\\n                    <div class=\\\"col-sm-12 col-md-12 col-lg-12 center\\\" class=\\\"GroupFormHeaderCls\\\">\\r\\n                        <div>Branch Information</div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                \\r\\n                        <div class=\\\"col-sm-6 col-md-6 col-lg-6 box\\\" *ngIf=\\\"allbranch.length >0\\\">\\r\\n                            <mat-form-field>\\r\\n                                <mat-label> All Branchs :</mat-label>\\r\\n                                <mat-select [(ngModel)]=\\\"package.branch_key\\\" class=\\\"btn-group bootstrap-select bs-select\\\">\\r\\n                                    <mat-option *ngFor=\\\"let value of allbranch\\\" (click)=\\\"branchOnchange(value.pub_key)\\\"\\r\\n                                        [value]=\\\"value.pub_key\\\">\\r\\n                                        {{value.name}}\\r\\n                                    </mat-option>\\r\\n                                </mat-select>\\r\\n                            </mat-form-field>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-6 col-md-6 col-lg-6 box\\\" *ngIf=\\\"allunits.length >0\\\">\\r\\n                            <mat-form-field>\\r\\n                                <mat-label> Unite : </mat-label>\\r\\n                                <mat-select [(ngModel)]=\\\"package.units_key\\\" class=\\\"btn-group bootstrap-select bs-select\\\">\\r\\n                                    <mat-option *ngFor=\\\"let value of allunits\\\" [value]=\\\"value.pub_key\\\">\\r\\n                                        {{value.name}}\\r\\n                                    </mat-option>\\r\\n                                </mat-select>\\r\\n                            </mat-form-field>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                \\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"form-group kt-form__group GroupFormCls\\\">\\r\\n                    <div class=\\\"col-sm-12 col-md-12 col-lg-12 center\\\" class=\\\"GroupFormHeaderCls\\\">\\r\\n                        <div>Membership Basic Information</div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-sm-3 col-md-3 col-lg-3 box\\\">\\r\\n                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                            <input matInput [(ngModel)]=\\\"package.title\\\" #title=\\\"ngModel\\\" placeholder=\\\"title\\\"\\r\\n                                name=\\\"title\\\" required pattern=\\\"[^+!@^#$%),(&.`=_]*\\\" />\\r\\n                            <mat-error *ngIf=\\\"title.touched&&!title.valid&&title.errors?.required\\\">title is<strong>required</strong>\\r\\n                            </mat-error>\\r\\n                            <mat-error *ngIf=\\\"title.touched&&!title.valid&&title.errors?.pattern\\\">Please Enter<strong>valid title</strong>\\r\\n                            </mat-error>\\r\\n                            <!-- <mat-hint align=\\\"start\\\">Please Enter<strong>Membership Title</strong>\\r\\n                            </mat-hint> -->\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-sm-3 col-md-3 col-lg-3 box\\\">\\r\\n                        <mat-form-field style=\\\"width: 100%;\\\">\\r\\n                            <mat-label> Type </mat-label>\\r\\n                            <mat-select  [(ngModel)]=\\\"package.type\\\" #type=\\\"ngModel\\\" name=\\\"type\\\" required\\r\\n                                class=\\\"btn-group bootstrap-select bs-select\\\">\\r\\n                                <mat-option ng-reflect-value=\\\"general\\\" value=\\\"general\\\">General</mat-option>\\r\\n                                <mat-option ng-reflect-value=\\\"private\\\" value=\\\"private\\\">Private</mat-option>\\r\\n                            </mat-select>\\r\\n                            <mat-error *ngIf=\\\"type.touched&&!type.valid&&type.errors?.required\\\">Please enter\\r\\n                                <strong>type</strong>\\r\\n                            </mat-error>\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-sm-6 col-md-6 col-lg-6 box\\\">\\r\\n                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                            <input matInput type=\\\"text\\\" placeholder=\\\"description\\\" #discriptions=\\\"ngModel\\\"\\r\\n                                name=\\\"discriptions\\\" required pattern=\\\"[^+!@^#$%),(&.`=_]*\\\"\\r\\n                                [(ngModel)]=\\\"package.discriptions\\\" />\\r\\n                            <mat-error *ngIf=\\\"discriptions.touched&&!discriptions.valid&&discriptions.errors?.required\\\">\\r\\n                                Description is<strong>required</strong>\\r\\n                            </mat-error>\\r\\n                            <mat-error *ngIf=\\\"discriptions.touched&&!discriptions.valid&&discriptions.errors?.pattern\\\">\\r\\n                                Please enter<strong>valid description </strong>\\r\\n                            </mat-error>\\r\\n                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                <strong>discriptions</strong>\\r\\n                            </mat-hint> -->\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div  class=\\\"form-group kt-form__group GroupFormCls\\\">\\r\\n                    <div class=\\\"col-sm-12 col-md-12 col-lg-12 center\\\" class=\\\"GroupFormHeaderCls\\\">\\r\\n                        <div>Membership Duration</div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                    <div *ngIf=\\\"package.type=='private'\\\" class=\\\"col-sm-3 col-md-3 col-lg-3 box\\\"> <!-- //Month System -->\\r\\n                        <mat-form-field style=\\\"width: 100%;\\\">\\r\\n                            <mat-label> Month System :</mat-label>\\r\\n                            <mat-select [(ngModel)]=\\\"package.month_system\\\" #month_system=\\\"ngModel\\\" name=\\\"month_system\\\"\\r\\n                                class=\\\"btn-group bootstrap-select bs-select\\\">\\r\\n                                <mat-option ng-reflect-value=\\\"28\\\" value=\\\"28\\\">28 Day</mat-option>\\r\\n                                <mat-option ng-reflect-value=\\\"\\\" value=\\\"\\\">Full Month</mat-option>\\r\\n                            </mat-select>\\r\\n                            <mat-error *ngIf=\\\"month_system.touched&&!month_system.valid&&month_system.errors?.required\\\">Month_system is <strong>required</strong></mat-error>\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                    <div  class=\\\"col-sm-3 col-md-3 col-lg-3 box\\\"> <!-- //Month Number -->\\r\\n                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                            <input matInput type=\\\"number\\\" placeholder=\\\"Month Number\\\"\\r\\n                                [(ngModel)]=\\\"package.month_count\\\" #month_count=\\\"ngModel\\\" name=\\\"month_count\\\" required\\r\\n                                [min]=\\\"1\\\" [max]=\\\"12\\\" min=\\\"1\\\" max=\\\"12\\\" pattern=\\\"[0-9]*\\\" />\\r\\n                            <mat-error *ngIf=\\\"month_count.touched&&!month_count.valid&&month_count.errors?.required\\\">Month_Number is <strong>required</strong></mat-error>\\r\\n                            <mat-error *ngIf=\\\"month_count.touched&&!month_count.valid&&(month_count.errors?.min||month_count.errors?.max||month_count.errors?.pattern)\\\">Please enter <strong>valid number</strong></mat-error>\\r\\n                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                <strong>Month Number</strong>\\r\\n                            </mat-hint> -->\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                    <div  class=\\\"col-sm-3 col-md-3 col-lg-3 box\\\"> <!-- //Day Per Week -->\\r\\n                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                            <input matInput type=\\\"number\\\" placeholder=\\\"Day Per Week\\\" #day_per_week=\\\"ngModel\\\"\\r\\n                                name=\\\"day_per_week\\\" required [min]=\\\"1\\\" [max]=\\\"7\\\" min=\\\"1\\\" max=\\\"7\\\" [(ngModel)]=\\\"package.day_per_week\\\"\\r\\n                                pattern=\\\"[1-7]*\\\" />\\r\\n                            <mat-error *ngIf=\\\"day_per_week.touched&&!day_per_week.valid&&day_per_week.errors?.required\\\">Day_per_week is <strong>required</strong></mat-error>\\r\\n                            <mat-error *ngIf=\\\"day_per_week.touched&&!day_per_week.valid&&(day_per_week.errors?.min||day_per_week.errors?.max||day_per_week.errors?.pattern)\\\">Please enter <strong>valid day</strong></mat-error>\\r\\n                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                <strong>Day Per Week</strong>\\r\\n                            </mat-hint> -->\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"package.type=='private'\\\" class=\\\"col-sm-3 col-md-3 col-lg-3 box\\\"><!-- //session time -->\\r\\n                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                            <input matInput type=\\\"number\\\" placeholder=\\\"Session Time  in minutes\\\"\\r\\n                                #session_time=\\\"ngModel\\\" name=\\\"session_time\\\" required [min]=\\\"1\\\" min=\\\"1\\\"\\r\\n                                [(ngModel)]=\\\"package.session_time\\\" />\\r\\n                            <!-- <mat-icon matSuffix>Min</mat-icon> -->\\r\\n                            <mat-error *ngIf=\\\"session_time.touched&&!session_time.valid&&session_time.errors?.required\\\"> Session_time is <strong>required</strong></mat-error>\\r\\n                            <mat-error *ngIf=\\\"session_time.touched&&!session_time.valid&&session_time.errors?.min\\\">Please enter <strong>valid session_time</strong></mat-error>\\r\\n                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                <strong>Session time in minutes</strong>\\r\\n                            </mat-hint> -->\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group kt-form__group GroupFormCls\\\">\\r\\n                    <div class=\\\"col-sm-12 col-md-12 col-lg-12 center\\\" class=\\\"GroupFormHeaderCls\\\">\\r\\n                        <div>Membership Payment</div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                            <input matInput type=\\\"number\\\" #inputBox (change)='validateFees(fees)' placeholder=\\\"Fees\\\"\\r\\n                                [(ngModel)]=\\\"package.fees\\\" #fees=\\\"ngModel\\\" name=\\\"fees\\\" required min=\\\"1\\\" />\\r\\n                            <mat-error *ngIf=\\\"fees.touched&&!fees.valid&&fees.errors?.required\\\">Fees is <strong>required</strong></mat-error>\\r\\n                            <mat-error *ngIf=\\\"fees.touched&&!fees.valid&&fees.errors?.min\\\">Please enter <strong>valid fees</strong></mat-error>\\r\\n                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                <strong>Fees</strong>\\r\\n                            </mat-hint> -->\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                            <input matInput type=\\\"number\\\" placeholder=\\\"Taxs\\\" [(ngModel)]=\\\"package.taxs\\\"\\r\\n                                #taxs=\\\"ngModel\\\" name=\\\"taxs\\\" required [min]=\\\"0\\\" min=\\\"0\\\" [max]=\\\"100\\\" />\\r\\n                            <mat-icon matSuffix>%</mat-icon>\\r\\n                            <mat-error *ngIf=\\\"taxs.touched&&!taxs.valid&&taxs.errors?.required\\\">Taxs is\\r\\n                                <strong>required</strong>\\r\\n                            </mat-error>\\r\\n                            <mat-error *ngIf=\\\"taxs.touched&&!taxs.valid&&(taxs.errors?.min||taxs.errors?.max)\\\">Please\\r\\n                                enter\\r\\n                                <strong>valid taxs</strong>\\r\\n                            </mat-error>\\r\\n                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                <strong>Taxs</strong>\\r\\n                            </mat-hint> -->\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                            <input matInput type=\\\"text\\\" placeholder=\\\"Payment strategy\\\" [(ngModel)]=\\\"package.payment_startegy\\\"\\r\\n                                #payment_strategy=\\\"ngModel\\\" name=\\\"payment_strategy\\\" required pattern=\\\"[^+!@^#$%),(&.`=_]*\\\" />\\r\\n                            <mat-error\\r\\n                                *ngIf=\\\"payment_strategy.touched&&!payment_strategy.valid&&payment_strategy.errors?.required\\\">\\r\\n                                Payment strategy is<strong>required</strong>\\r\\n                            </mat-error>\\r\\n                            <mat-error\\r\\n                                *ngIf=\\\"payment_strategy.touched&&!payment_strategy.valid&&payment_strategy.errors?.pattern\\\">\\r\\n                                Please enter\\r\\n                                <strong>valid Payment strategy</strong>\\r\\n                            </mat-error>\\r\\n                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                <strong>Payment strategy</strong>\\r\\n                            </mat-hint> -->\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                   </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"form-group kt-form__group GroupFormCls\\\">\\r\\n                    <div class=\\\"col-sm-12 col-md-12 col-lg-12 center\\\" class=\\\"GroupFormHeaderCls\\\">\\r\\n                        <div>Membership Discount Info</div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                            <input matInput type=\\\"number\\\" placeholder=\\\"Discount\\\" [(ngModel)]=\\\"package.discount\\\"\\r\\n                                #discount=\\\"ngModel\\\" name=\\\"discount\\\" required [min]=\\\"0\\\" [max]=\\\"100\\\" />\\r\\n                            <mat-icon matSuffix>%</mat-icon>\\r\\n                            <mat-error *ngIf=\\\"discount.touched&&!discount.valid&&discount.errors?.required\\\">Discount is\\r\\n                                <strong>required</strong>\\r\\n                            </mat-error>\\r\\n                            <mat-error\\r\\n                                *ngIf=\\\"discount.touched&&!discount.valid&&(discount.errors?.min||discount.errors?.max)\\\">\\r\\n                                Please enter <strong>valid discount</strong>\\r\\n                            </mat-error>\\r\\n                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                <strong>Discount</strong>\\r\\n                            </mat-hint> -->\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                            <input (focus)=\\\"picker1.open()\\\" matInput [min]=\\\"mindate\\\" [max]=\\\"package.end_discount\\\" [(ngModel)]=\\\"package.start_discount\\\"\\r\\n                                #start_discount=\\\"ngModel\\\" name=\\\"start_discount\\\" required [matDatepicker]=\\\"picker1\\\"\\r\\n                                placeholder=\\\"Start Discount\\\">\\r\\n                            <mat-datepicker-toggle matSuffix [for]=\\\"picker1\\\"></mat-datepicker-toggle>\\r\\n                            <mat-datepicker disabled=\\\"false\\\" #picker1></mat-datepicker>\\r\\n                            <mat-error *ngIf=\\\"start_discount.touched&&!start_discount.valid&&start_discount.errors?.required\\\">\\r\\n                                Start_discount is <strong>required</strong>\\r\\n                            </mat-error>\\r\\n                            <!-- <mat-error *ngIf=\\\"start_discount.touched&&!start_discount.valid&&start_discount.errors?.min\\\">\\r\\n                                Please enter <strong>valid date</strong>\\r\\n                            </mat-error> -->\\r\\n\\r\\n                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                <strong>Start Discount</strong>\\r\\n                            </mat-hint> -->\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                        <mat-form-field class=\\\"example-full-width\\\">\\r\\n                            <input (focus)=\\\"picker.open()\\\" [min]=\\\"package.start_discount\\\" matInput [(ngModel)]=\\\"package.end_discount\\\"\\r\\n                                #end_discount=\\\"ngModel\\\" name=\\\"end_discount\\\" required [matDatepicker]=\\\"picker\\\"\\r\\n                                placeholder=\\\"End Discount\\\">\\r\\n                            <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\r\\n                            <mat-datepicker disabled=\\\"false\\\" #picker></mat-datepicker>\\r\\n\\r\\n                            <mat-error *ngIf=\\\"end_discount.touched&&!end_discount.valid&&end_discount.errors?.required\\\">End_discount is <strong>required</strong></mat-error>\\r\\n                            <mat-error *ngIf=\\\"end_discount.touched&&!end_discount.valid&&end_discount.errors?.min\\\">Please enter <strong>valid date</strong></mat-error>\\r\\n                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                <strong>End Discount</strong>\\r\\n                            </mat-hint> -->\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"form-group kt-form__group GroupFormCls\\\">\\r\\n                    <div class=\\\"col-sm-12 col-md-12 col-lg-12 center\\\" class=\\\"GroupFormHeaderCls\\\">\\r\\n                        <div>Membership Renew Info</div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                            <input matInput type=\\\"number\\\" (change)='validateFees(renew_fees)'\\r\\n                                placeholder=\\\"Renew Fees\\\" [(ngModel)]=\\\"package.renew_fees\\\" #renew_fees=\\\"ngModel\\\"\\r\\n                                name=\\\"renew_fees\\\" required min=\\\"0\\\" />\\r\\n                            <mat-error *ngIf=\\\"renew_fees.touched&&!renew_fees.valid&&renew_fees.errors?.required\\\">Min Renew_fees is <strong>0</strong></mat-error>\\r\\n                            <mat-error *ngIf=\\\"renew_fees.touched&&!renew_fees.valid&&title.errors?.min\\\">Please enter <strong>valid renew_fees</strong></mat-error>\\r\\n                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                <strong>Renew Fees</strong>\\r\\n                            </mat-hint> -->\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                            <input matInput type=\\\"number\\\" placeholder=\\\"Renew Taxs\\\"\\r\\n                                [(ngModel)]=\\\"package.renew_taxs\\\" #renew_taxs=\\\"ngModel\\\" name=\\\"renew_taxs\\\" required\\r\\n                                min=\\\"0\\\" [max]=\\\"100\\\" />\\r\\n                            <mat-icon matSuffix>%</mat-icon>\\r\\n                            <mat-error *ngIf=\\\"renew_taxs.touched&&!renew_taxs.valid&&renew_taxs.errors?.required\\\">\\r\\n                                Renew_taxs is\\r\\n                                <strong>required</strong>\\r\\n                            </mat-error>\\r\\n                            <mat-error\\r\\n                                *ngIf=\\\"renew_taxs.touched&&!renew_taxs.valid&&(renew_taxs.errors?.min||renew_taxs.errors?.max)\\\">\\r\\n                                Please enter\\r\\n                                <strong>valid renew_taxs</strong>\\r\\n                            </mat-error>\\r\\n                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                <strong>Renew Taxs</strong>\\r\\n                            </mat-hint> -->\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-sm-4 col-md-4 col-lg-4 box\\\">\\r\\n                        <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                            <input matInput type=\\\"number\\\" placeholder=\\\"Renew Discount\\\"\\r\\n                                [(ngModel)]=\\\"package.renew_discount\\\" #renew_discount=\\\"ngModel\\\" name=\\\"renew_discount\\\"\\r\\n                                required [min]='0' [max]=\\\"100\\\" min='0' max=\\\"100\\\" />\\r\\n                            <mat-icon matSuffix>%</mat-icon>\\r\\n                            <mat-error\\r\\n                                *ngIf=\\\"renew_discount.touched&&!renew_discount.valid&&renew_discount.errors?.required\\\">\\r\\n                                Renew_discount is\\r\\n                                <strong>required</strong>\\r\\n                            </mat-error>\\r\\n                            <mat-error\\r\\n                                *ngIf=\\\"renew_discount.touched&&!title.valid&&(renew_discount.errors?.min||renew_discount.errors?.max)\\\">\\r\\n                                Please enter\\r\\n                                <strong>valid renew_discount</strong>\\r\\n                            </mat-error>\\r\\n                            <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                <strong>Renew Discount</strong>\\r\\n                            </mat-hint> -->\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <!-- end renew -->\\r\\n                <div class=\\\"form-group kt-form__group GroupFormCls\\\">\\r\\n                    <div class=\\\"col-sm-12 col-md-12 col-lg-12 center\\\" class=\\\"GroupFormHeaderCls\\\">\\r\\n                        <div>Membership Additional Info</div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-sm-9 col-md-9 col-lg-9 box\\\">\\r\\n                        <div class=\\\"col-sm-12 col-md-12 col-lg-12 box\\\">\\r\\n                            <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                                <input matInput placeholder=\\\"Additional Service\\\"\\r\\n                                    [(ngModel)]=\\\"package.additional_service\\\" #additional_service=\\\"ngModel\\\"\\r\\n                                    name=\\\"additional_service\\\"  />\\r\\n                                <!-- <mat-error>Additional Service is\\r\\n                                    <strong>required</strong>\\r\\n                                </mat-error> -->\\r\\n                                <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                    <strong>Additional Service</strong>\\r\\n                                </mat-hint> -->\\r\\n                            </mat-form-field>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-12 col-md-12 col-lg-12 box\\\">\\r\\n                            <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                                <input matInput placeholder=\\\"Additional Invitations\\\"\\r\\n                                    [(ngModel)]=\\\"package.additional_invitation\\\" #additional_invitation=\\\"ngModel\\\"\\r\\n                                    name=\\\"additional_invitation\\\" />\\r\\n\\r\\n                                <!-- <mat-error\\r\\n                                    *ngIf=\\\"additional_invitation.touched&&!additional_invitation.valid&&additional_invitation.errors?.required\\\">\\r\\n                                    Additional_invitation is\\r\\n                                    <strong>required</strong>\\r\\n                                </mat-error> -->\\r\\n\\r\\n                                <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                    <strong>Additional Invitations</strong>\\r\\n                                </mat-hint> -->\\r\\n                            </mat-form-field>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-12 col-md-12 col-lg-12 box\\\">\\r\\n                            <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                                <input matInput placeholder=\\\"Additional Visits\\\"\\r\\n                                    [(ngModel)]=\\\"package.additional_visits\\\" #additional_visits=\\\"ngModel\\\"\\r\\n                                    name=\\\"additional_visits\\\"  />\\r\\n                                <!-- <mat-error>Additional Visits is\\r\\n                                    <strong>required</strong>\\r\\n                                </mat-error> -->\\r\\n\\r\\n                                <!-- <mat-hint align=\\\"start\\\">Please enter\\r\\n                                    <strong>Additional Visits</strong>\\r\\n                                </mat-hint> -->\\r\\n                            </mat-form-field>\\r\\n                        </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-3 col-md-3 col-lg-3 box\\\">\\r\\n                            <div class=\\\"fileinput fileinput-new\\\" data-provides=\\\"fileinput\\\">\\r\\n\\r\\n                                <div class=\\\"fileinput-new thumbnail\\\" style=\\\"max-width: 150px; max-height: 150px; width: 150px; height: 150px;\\\">\\r\\n                                    <img *ngIf=\\\"imageprivew ==''\\\" style=\\\"max-width: 150px; max-height: 150px;\\\" src=\\\"http://www.placehold.it/300x300/EFEFEF/AAAAAA&amp;text=no+image\\\" alt=\\\"\\\">\\r\\n                                    <img *ngIf=\\\"imageprivew !=''\\\" style=\\\"max-width: 150px; max-height: 150px;\\\" src=\\\"{{imageprivew}}\\\" alt=\\\"\\\">\\r\\n                                </div>\\r\\n                                <div>\\r\\n                                    <label for=\\\"file-upload\\\"  style=\\\"width: 100%;\\\" class=\\\"custom-file-upload fileinput-new btn btn-success btn-s\\\">\\r\\n                                        <i class=\\\"fa fa-cloud-upload\\\"></i> Upload Image</label>\\r\\n                                    <input id=\\\"file-upload\\\" style=\\\"display: none;\\\" type=\\\"file\\\" name=\\\"file\\\" #input_image\\r\\n                                        (change)=\\\"handleUpload($event)\\\" ng2FileSelect [uploader]=\\\"uploader\\\" />\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"kt-portlet__foot kt-portlet__foot--fit kt-portlet__no-border\\\">\\r\\n                <div class=\\\"kt-form__actions kt-form__actions--solid\\\">\\r\\n                    <div class=\\\"row text-right\\\">\\r\\n                        <div class=\\\"col-lg-12\\\">\\r\\n                            <button type=\\\"button\\\" mat-raised-button [mat-dialog-close]=\\\"data.animal\\\" cdkFocusInitial\\r\\n                                matTooltip=\\\"Cancel changes\\\">\\r\\n                                Cancel\\r\\n                            </button>&nbsp;\\r\\n                            <button type=\\\"button\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"onSubmit(input_image.value)\\\"\\r\\n                                [disabled]=\\\"viewLoading\\\" matTooltip=\\\"Save changes\\\">\\r\\n                                Save\\r\\n                            </button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","// Angular\r\nimport { ElementRef, ViewChild, Component, OnInit, Inject,ChangeDetectorRef, ChangeDetectionStrategy, OnDestroy, ViewEncapsulation } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\n// Lodash\r\nimport { Router } from '@angular/router';\r\nimport * as _lodash from 'lodash';\r\n// RxJS\r\nimport { Observable, of, Subscription } from 'rxjs';\r\n// Lodash\r\nimport { each, find, some } from 'lodash';\r\n// NGRX\r\nimport { Update } from '@ngrx/entity';\r\nimport { Store, select } from '@ngrx/store';\r\n// State\r\nimport { AppState } from '../../../../../core/reducers';\r\nimport { LayoutUtilsService, MessageType, QueryParamsModel } from '../../../../../core/_base/crud';\r\nimport {\r\n\tMatSnackBar,\r\n\tMatSnackBarConfig,\r\n\tMatSnackBarHorizontalPosition,\r\n\tMatSnackBarVerticalPosition,\r\n} from '@angular/material';\r\nimport { delay } from 'rxjs/operators';\r\nimport { Packages } from './packages.model';\r\nimport { PackagesComponent } from '../packages.component';\r\nimport { FileUploader } from 'ng2-file-upload/ng2-file-upload';\r\nimport { MembershipService, UserService } from '../../../../../core/auth/_services'\r\nimport { Ng2ImgMaxService } from 'ng2-img-max';\r\nimport { FormControl } from '@angular/forms';\r\n@Component({\r\n\tselector: 'kt-packages-edit-dialog',\r\n\ttemplateUrl: './packages-edit.dialog.component.html',\r\n\tstyleUrls: ['../../membership.component.css'],\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\r\n\tencapsulation: ViewEncapsulation.None,\r\n\t//changeDetection: ChangeDetectionStrategy.Default,\r\n})\r\nexport class PackagesEditDialogComponent implements OnInit, OnDestroy {\r\n\t// Public properties\r\n\tpackage: Packages;\r\n\tmindate =new Date();\r\n\tpackage$: Observable<Packages>;\r\n\thasFormErrors: boolean = false;\r\n\terrormessage: string = '';\r\n\tviewLoading: boolean = false;\r\n\tallbrancandunits: [];\r\n\timageprivew: any;\r\n\tallbranch: any;\r\n\tallunits: any;\r\n\tresponse = {};\r\n\tcheckedFees = false;\r\n\tisLoading : boolean =false;\r\n\t\r\n\t// Private properties\r\n\tprivate componentSubscriptions: Subscription;\r\n\tprivate token = JSON.parse(localStorage.getItem('user'))['token'];\r\n\tpublic uploader: FileUploader = new FileUploader({ url: this.ser.upload_file(), authToken: this.token, itemAlias: 'upload' });\r\n\tUrl:String;\r\n\t/**\r\n\t * Component constructor\r\n\t *\r\n\t * @param dialogRef: MatDialogRef<PackagesEditDialogComponent>\r\n\t * @param data: any\r\n\t * @param store: Store<AppState>\r\n\t */\r\n\t@ViewChild('inputBox') inputBox: ElementRef;\r\n\tconstructor(public dialogRef: MatDialogRef<PackagesEditDialogComponent>,\r\n\t\t@Inject(MAT_DIALOG_DATA) public data: any,\r\n\t\tpublic snackBar: MatSnackBar,\r\n\t\tprivate changeDetectref:ChangeDetectorRef,\r\n\t\tprivate store: Store<AppState>, private ser: MembershipService, private userservice: UserService, private router: Router,\r\n\t\tprivate layoutUtilsService: LayoutUtilsService,\r\n\t\tprivate _ng2ImgMax: Ng2ImgMaxService\r\n\t) { }\r\n\t/**\r\n\t * @ Lifecycle sequences => https://angular.io/guide/lifecycle-hooks\r\n\t */\r\n\r\n\t/**\r\n\t * On init\r\n\t */\r\n\tngOnInit() {\r\n\t\tif (localStorage.getItem('user')) {\r\n\t\t\ttry {\r\n\t\t\t\tlet user = JSON.parse(localStorage.getItem('user'))\r\n\t\t\t\tthis.Url = (user['baseurl']).trim()\r\n\t\t\t} catch (error) {}\r\n\t\t}\r\n\t\t//console.log(this.mindate);\r\n\t\tthis.dialogRef.disableClose = true;\r\n\t\tthis.allbranch = []; this.allunits = []; this.imageprivew = '';\r\n\t\tconst newPackage = new Packages();\r\n\t\tthis.package$ = of(newPackage);\r\n\t\tthis.package$.subscribe(res => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.package = res;\r\n\t\t});\r\n\r\n\t\tthis.uploader.onAfterAddingFile = (file) => { file.withCredentials = false; };\r\n\r\n\r\n\t\tthis.getbranceandunits();\r\n\r\n\t\tif (this.data.id != undefined){\r\n\t\t\tthis.getPackagesById(this.data.id);\r\n\t\t}\r\n\t\telse{\r\n\t\t\t//this.package.start_discount = new Date().toISOString();\r\n\t\t\tthis.package.taxs=\"0\";\r\n\t\t\tconsole.log(this.package);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tbranchOnchange(key) {\r\n\t\tthis.isLoading=true;\r\n\t\tvar allunits = [];\r\n\t\tif(this.allbrancandunits){\r\n\t\tObject.values(this.allbrancandunits).forEach(function (units) {\r\n\t\t\tif (units['type'] == 'units' && units['branch_key'] == key) allunits.push(units);\r\n\t\t});\r\n\t\tconsole.table(key); console.table(allunits);\r\n\t\tthis.allunits = allunits;\r\n\t\tthis.isLoading=false;\r\n\t}\r\n}\r\n\t/**\r\n\t * On destroy\r\n\t */\r\n\tngOnDestroy() {\r\n\t\tif (this.componentSubscriptions) {\r\n\t\t\tthis.componentSubscriptions.unsubscribe();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\t/**\r\n\t * Save data\r\n\t */\r\n\tonSubmit(input_image) {\r\n\t\tvar validationRet=this.checkValidation();\r\n\t\tif (validationRet==true){\r\n\t\t\tthis.viewLoading = true;\r\n\t\t\tif (this.data.id != undefined) {\r\n\t\t\tconst _title: string = 'Edit Membership';\r\n\t\t\tconst _description: string = 'Are you sure to Edit this Membership?';\r\n\t\t\tconst _waitDesciption: string = 'Processing...';\r\n\t\t\tconst dialogRef = this.layoutUtilsService.RenwElement(_title, _description, _waitDesciption);\r\n\t\t\tdialogRef.afterClosed().subscribe(result => {\r\n\t\t\t\tif (result) {\r\n\t\t\t\t\tif(this.checkedpermission('editmembership')){\r\n\t\t\t\t\tif (input_image != '') {\r\n\t\t\t\t\t\tthis.uploader.uploadAll();\r\n\t\t\t\t\t\tthis.uploader.onCompleteItem = (item: any, response: any, status: any, headers: any) => {\r\n\t\t\t\t\t\t\tvar responsePath = JSON.parse(response);\r\n\t\t\t\t\t\t\tif (responsePath.result) {\r\n\t\t\t\t\t\t\t\tthis.package['image'] = responsePath.data;\r\n\t\t\t\t\t\t\t\tthis.ser.updatepackages(this.data.id, this.package).subscribe(res => { this.redirctFunction(res['result']); });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse { this.errormessage = \"Error While Upload Image\"; }\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.ser.updatepackages(this.data.id, this.package).subscribe(res => { this.redirctFunction(res['result']); });\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{this.openAlert()}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\r\n\t\t} else {\r\n\t\t\tif(this.checkedpermission('addmembership')){\r\n\t\t\t\tif (this.imageprivew != '') {\r\n\t\t\t\t\tthis.uploader.uploadAll();\r\n\t\t\t\t\tthis.uploader.onCompleteItem = (item: any, response: any, status: any, headers: any) => {\r\n\t\t\t\t\t\tvar responsePath = JSON.parse(response);\r\n\t\t\t\t\t\tif (responsePath.result) {\r\n\t\t\t\t\t\t\tthis.package['image'] = responsePath.data;\r\n\t\t\t\t\t\t\tthis.ser.addpackages(this.package).subscribe(res => { this.redirctFunction(res['result']); });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tdocument.querySelector('#alert').scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n\t\t\t\t\t\t\t this.errormessage = \"Error While Upload Image\"; }\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.ser.addpackages(this.package).subscribe(res => { this.redirctFunction(res['result']); });\r\n\t\t\t\t}\r\n\t\t\t}\t}\r\n\t\t} else {\r\n\t\t\tthis.hasFormErrors = true;\r\n\t\t\tdocument.querySelector('#alert').scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n\t\t\tthis.errormessage = \"Please Enter all Required Fileds \\n \\n \"+validationRet;\r\n\t\t}\r\n\r\n\t}\r\n\tredirctFunction(done) {\r\n\t\tif (done) {\r\n\t\t\tthis.viewLoading = false;\r\n\t\t\tthis.dialogRef.close({});\r\n\t\t\tif (this.router.url == '/default/membership/Memberships')\r\n\t\t\t\tthis.router.navigateByUrl('/default/membership/Membership',{ skipLocationChange: true });\r\n\t\t\telse this.router.navigateByUrl('/default/membership/Memberships',{ skipLocationChange: true });\r\n\t\t\t\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.layoutUtilsService.showActionNotification(\"Membership Has Been Added Successfully\", MessageType.Update);\r\n\t\t\t}, 1000)\r\n\t\t} else {\r\n\t\t\tthis.viewLoading = false;\r\n\t\t\tthis.hasFormErrors = true;\r\n\t\t\tdocument.querySelector('#alert').scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n\t\t\tthis.errormessage = 'Error While Add This Membership';\r\n\t\t}\r\n\t}\r\n\r\n\tcheckValidation(){\r\n\t\tvar message=[];\r\n\t\tif(!this.package.type ||this.package.type=='') message.push(\" Title \");\r\n\t\tif(this.package.type=='private'){\r\n\t\t\tif(!this.package.session_time ||this.package.session_time=='') message.push(\" Session Time \");\r\n\t\t\tif(!this.package.month_system ||this.package.month_system=='') message.push(\" Month System \");\r\n\t\t}\r\n\t\tif(!this.package.day_per_week ||this.package.day_per_week=='')  message.push(\" Day Per Week \");\r\n\t\tif(!this.package.month_count ||this.package.month_count=='')  message.push(\" Month Number \");\r\n\t\tif(this.package.fees=='NaN' ||parseInt(this.package.fees)==0||this.package.fees=='')  message.push(\" Fees \");\r\n\t\tif(!this.package.taxs\t\t||this.package.taxs=='')  message.push(\" Taxs \");\r\n\t\tif(!this.package.payment_startegy\t\t||this.package.payment_startegy=='')  message.push(\" Payment Startegy \");\r\n\r\n\r\n\t\tif(message.length>0)return \"Invalid Membership : \"+ message.join();\r\n\t\treturn true;\r\n\t}\r\n\t// private markFormGroupTouched(formGroup: FormGroup) {\r\n\t// \t(<any>Object).values(formGroup.controls).forEach(control => {\r\n\t// \tcontrol.markAsTouched();\r\n\r\n\t// \tif (control.controls) {\r\n\t// \t\tthis.markFormGroupTouched(control);\r\n\t// \t}\r\n\t// \t});\r\n\t// }\r\n\t\r\n\t//get branch and units\r\n\tgetbranceandunits() {\r\n\t\tif(this.checkedpermission('getallusers')){\r\n\t\t\tthis.isLoading=true;\r\n\t\t\tthis.userservice.getAllBrachsAndUnits(1, 10000).subscribe(\r\n\t\t\t\tres => {\r\n\t\t\t\t\tif (res['result'] && res['data'].length > 0) {\r\n\t\t\t\t\t\tthis.allbrancandunits = res['data'];\r\n\t\t\t\t\t\tvar branches = [];\r\n\t\t\t\t\t\tObject.keys(res['data']).forEach(function (key) {\r\n\t\t\t\t\t\t\tif (res['data'][key].type == 'branch') branches.push(res['data'][key]);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.allbranch = branches;\r\n\t\t\t\t\t\t//console.table(branches);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.isLoading=false;\r\n\t\t\t\t\tthis.changeDetectref.detectChanges();\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\t//get packages data\r\n\tgetPackagesById(id) {\r\n\t\tif(this.checkedpermission('getmembership'))\r\n\t\t{\r\n\t\tthis.ser.getpackagesById(id).subscribe(\r\n\t\t\tres => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tif (res['result'] && res['data'].length > 0) {\r\n\r\n\t\t\t\t\t//\tthis.Url=res['data']['Url'].trim();\r\n\t\t\t\t\tif(typeof this.package.start_discount !='undefined'){\r\n\t\t\t\t\t\tthis.mindate=new Date(this.package.start_discount);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\r\n\t\t\t\t\tthis.package.branch_key = res['data'][0].branch_key;\r\n\t\t\t\t\tthis.package.units_key = res['data'][0].units_key;\r\n\t\t\t\t\tthis.package.title = res['data'][0].title;\r\n\t\t\t\t\tthis.package.month_count = res['data'][0].month_count;\r\n\t\t\t\t\tthis.package.month_system = res['data'][0].month_system;\r\n\t\t\t\t\tthis.package.fees = res['data'][0].fees;\r\n\t\t\t\t\tthis.package.taxs = res['data'][0].taxs;\r\n\t\t\t\t\tthis.package.payment_startegy = res['data'][0].payment_startegy;\r\n\t\t\t\t\tthis.package.type = res['data'][0].type;\r\n\t\t\t\t\tthis.package.discount = res['data'][0].discount;\r\n\t\t\t\t\tthis.package.start_discount = res['data'][0].start_discount;\r\n\t\t\t\t\tthis.package.end_discount = res['data'][0].end_discount;\r\n\t\t\t\t\tthis.package.renew_fees = res['data'][0].renew_fees;\r\n\t\t\t\t\tthis.package.renew_taxs = res['data'][0].renew_taxs;\r\n\t\t\t\t\tthis.package.renew_discount = res['data'][0].renew_discount;\r\n\t\t\t\t\tthis.package.image = res['data'][0].image;\r\n\t\t\t\t\tthis.package.discriptions = res['data'][0].discriptions;\r\n\t\t\t\t\tthis.package.session_time = res['data'][0].session_time;\r\n\t\t\t\t\tthis.package.day_per_week = res['data'][0].day_per_week;\r\n\t\t\t\t\tthis.package.additional_visits = res['data'][0].additional_visits;\r\n\t\t\t\t\tthis.package.additional_service = res['data'][0].additional_service;\r\n\t\t\t\t\tthis.package.additional_invitation = res['data'][0].additional_invitation;\r\n\t\t\t\t\tthis.imageprivew = (res['data'][0].image)?this.Url + res['data'][0].image:'';\r\n\t\t\t\t\tthis.branchOnchange(this.package.branch_key);\r\n\t\t\t\t\tthis.changeDetectref.detectChanges()\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\topenAlert() {\r\n\t\tlet message = 'Oh Snap ! You dont have permission to get this data';\r\n\t\tlet actionButtonLabel = '';\r\n\t\tlet action = true;\r\n\t\tlet setAutoHide = true;\r\n\t\tlet autoHide = 4000;\r\n\t\tlet horizontalPosition: MatSnackBarHorizontalPosition = 'center';\r\n\t\tlet verticalPosition: MatSnackBarVerticalPosition = 'top';\r\n\r\n\t\tlet addExtraClass = false;\r\n\t\tlet config = new MatSnackBarConfig();\r\n\t\tconfig.verticalPosition = verticalPosition;\r\n\t\tconfig.horizontalPosition = horizontalPosition;\r\n\t\tconfig.duration = setAutoHide ? autoHide : 0;\r\n\t\t//  config['extraClasses'] = addExtraClass ? ['warn-snackbar'] : undefined;\r\n\t\tconfig.panelClass = ['warn-snackbar'];\r\n\t\tthis.snackBar.open(message, action ? actionButtonLabel : undefined, config);\r\n\t}\r\n\tcheckedpermission(key: String) {\r\n\t\tlet checked = false\r\n\t\tif (localStorage.getItem('user')) {\r\n\r\n\t\t\tif (JSON.parse(localStorage.getItem('user'))) {\r\n\t\t\t\tlet user = JSON.parse(localStorage.getItem('user'))\r\n\r\n\t\t\t\tif (user['allPrivilidge']) {\r\n\t\t\t\t\tconst privilidge = user['allPrivilidge']\r\n\r\n\t\t\t\t\tObject.keys(privilidge).forEach(role => {\r\n\t\t\t\t\t\tObject.keys(privilidge[role]).forEach(pri => {\r\n\r\n\t\t\t\t\t\t\tlet per = (privilidge[role][pri].toString()).trim()\r\n\t\t\t\t\t\t\tif (key.trim() == per) {\r\n\t\t\t\t\t\t\t\tchecked = true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn checked\r\n\t}\r\n\r\n\r\n\r\n\ttest(event) {\r\n\t\tconsole.log(event);\r\n\t}\r\n\t/**\r\n\t * Close alert\r\n\t *\r\n\t * @param $event: Event\r\n\t */\r\n\tonAlertClose($event) {\r\n\t\tthis.hasFormErrors = false;\r\n\t}\r\n\r\n\thandleUpload(event: any) {\r\n\t\tif (event.target.files && event.target.files[0]) {\r\n\t\t\tthis.viewLoading = true;\r\n\t\t\tvar reader = new FileReader();\r\n\t\t\treader.onload = (event: ProgressEvent) => {this.imageprivew = (<FileReader>event.target).result;}\r\n\t\t\treader.readAsDataURL(event.target.files[0]);\r\n\r\n\t\t\tthis._ng2ImgMax.resizeImage(event.target.files[0], 600, 600).subscribe(\r\n\t\t\t\tresult => {\r\n\t\t\t\t\tconst newImage = new File([result], result.name);\r\n\t\t\t\t\tthis.uploader.clearQueue();\r\n\t\t\t\t\tthis.uploader.addToQueue([newImage]);\r\n\t\t\t\t\t//this.uploader.uploadAll();\r\n\t\t\t\t\t//console.log(result);\r\n\t\t\t\t\treader.onload = (event: ProgressEvent) => { this.imageprivew = (<FileReader>event.target).result; this.changeDetectref.detectChanges();}\r\n\t\t\t\t\treader.readAsDataURL(event.target.files[0]);\r\n\t\t\t\t\tthis.viewLoading = false;\r\n\t\t\t\t},\r\n\t\t\t\terror => console.log(error)\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\t/** UI */\r\n\t/**\r\n\t * Returns component title\r\n\t */\r\n\r\n\tgetTitle(): string { return (this.data.id != undefined) ? 'Edit Membership' : 'New Membership'; }\r\n\r\n\tisTitleValid(): boolean {\r\n\t\treturn true;\r\n\t}\r\n\tvalidateFees(fees) {\r\n\t\tif (!parseFloat(fees))\r\n\t\t\tthis.checkedFees = true\r\n\t}\r\n\r\n}\r\n","import { BaseModel } from '../../../../../core/_base/crud';\r\n\r\nexport class Packages extends BaseModel {\r\n        club_key: string;\r\n        branch_key: string;\r\n        units_key: string;\r\n        title: string;\r\n        month_count: string;\r\n        month_system: string;\r\n        fees: string;\r\n        taxs: string;\r\n        renew_fees: string;\r\n        renew_taxs: string;\r\n        renew_discount: string;\r\n        payment_startegy: string;\r\n        type: string;\r\n        discount: string;\r\n        start_discount: string;\r\n        end_discount: string;\r\n        image: string;\r\n        discriptions: string;\r\n        session_time: string;\r\n        day_per_week: string;\r\n        additional_visits: string;\r\n        additional_service: string;\r\n        additional_invitation: string;\r\n        status: string;\r\n\r\n    clear(): void {\r\n      this.club_key = '';\r\n      this.branch_key = '';\r\n      this.units_key = '';\r\n      this.title = '';\r\n      this.month_count = '';\r\n      this.month_system = '';\r\n      this.fees = '';\r\n      this.taxs = '';\r\n      this.payment_startegy = '';\r\n      this.type = '';\r\n      this.discount = '';\r\n      this.start_discount = '';\r\n      this.end_discount = '';\r\n      this.image = '';\r\n      this.discriptions = '';\r\n      this.session_time = '';\r\n      this.day_per_week = '';\r\n      this.additional_visits = '';\r\n      this.additional_service = '';\r\n      this.additional_invitation = '';\r\n      this.status = '';\r\n    }\r\n}\r\n","module.exports = \"<kt-portlet>\\r\\n\\t<!-- PORTLET LOADING | Binded to TABLE Datasource -->\\r\\n\\t<!-- See prop => '~/core/_crud/models/data-sources/_base.datasource.ts' (loading$) -->\\r\\n\\t<kt-portlet-header [title]=\\\"''\\\" [class]=\\\"'kt-portlet__head--lg'\\\" >\\r\\n\\t\\t<ng-container ktPortletTools>\\r\\n\\t\\t\\t<button (click)=\\\"addMembership()\\\" mat-raised-button color=\\\"primary\\\" matTooltip=\\\"Create New Membership\\\">New Membership</button>\\r\\n\\t\\t\\t<!-- Buttons (Material Angular) | See off.documenations 'https://material.angular.io/components/button/overview' -->\\r\\n\\t\\t\\t<!-- mat-raised-button | Rectangular contained button w/ elevation  -->\\r\\n\\t\\t</ng-container>\\r\\n\\t</kt-portlet-header>\\r\\n\\t<!-- end::Header -->\\r\\n\\r\\n\\t<!-- start::Body (attribute: ktPortletBody) -->\\r\\n\\t<div *ngIf=\\\"isLoading\\\" class=\\\"center\\\" style=\\\"padding: 150px;\\\">\\r\\n\\t\\t<mat-progress-spinner style=\\\"margin:0 auto;\\\" mode=\\\"indeterminate\\\" diameter=\\\"40\\\">\\r\\n\\t\\t</mat-progress-spinner>\\r\\n\\t</div>\\r\\n\\t<kt-portlet-body  *ngIf=\\\"!isLoading\\\">\\r\\n\\t\\t<!-- start::FILTERS & GROUP ACTIONS -->\\r\\n\\t\\t<div class=\\\"kt-form\\\">\\r\\n\\t\\t\\t<!-- start::FILTERS -->\\r\\n\\t\\t\\t<div class=\\\"kt-form__filtration\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"row align-items-center\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-md-4 kt-margin-bottom-10-mobile\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<input matInput placeholder=\\\"Search user\\\" [(ngModel)]=\\\"SearchKey\\\" #searchInput placeholder=\\\"Search then Press Enter\\\" (keyup.enter)=\\\"applyFilter()\\\">\\r\\n\\t\\t\\t\\t\\t\\t   <button mat-button matSuffix mat-icon-button aria-label=\\\"Clear\\\" *ngIf=\\\"SearchKey\\\" (click)=\\\"onSearchClear()\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t   <mat-icon>close</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t   </button>\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\"><strong>Search</strong> in all fields\\r\\n\\t\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<!-- end::FILTERS -->\\r\\n\\r\\n\\t\\t\\t<!-- start::GROUP ACTIONS -->\\r\\n\\t\\t\\t<!-- Group actions list: 'Delete selected' | 'Fetch selected' | 'Update status for selected' -->\\r\\n\\t\\t\\t<!-- Group actions are shared for all LISTS -->\\r\\n\\t\\t\\t<div class=\\\"row align-items-center collapse kt-form__group-actions kt-margin-top-20 kt-margin-bottom-20\\\"\\r\\n\\t\\t\\t\\t[ngClass]=\\\"{'show' : selection.selected.length > 0}\\\"><!-- We show 'Group Actions' div if smth are selected -->\\r\\n\\t\\t\\t\\t<div class=\\\"col-xl-12\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"kt-form__group kt-form__group--inline\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"kt-form__label kt-form__label-no-wrap\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<label class=\\\"kt--font-bold kt-font-danger-\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span translate=\\\"ECOMMERCE.COMMON.SELECTED_RECORDS_COUNT\\\"></span> {{ selection.selected.length }}\\r\\n\\t\\t\\t\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- selectedCountsTitle => function from codeBehind (users-list.component.ts file) -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- selectedCountsTitle => just returns title of selected items count -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- for example: Selected records count: 4 -->\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"kt-form__control kt-form__group--inline\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<button (click)=\\\"fetchUsers()\\\" mat-raised-button matTooltip=\\\"Fetch selected users\\\"  class=\\\"mat-button-mt-4\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon>clear_all</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tFetch Selected\\r\\n\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<!-- end::GROUP ACTIONS -->\\r\\n\\t\\t</div>\\r\\n\\t\\t<!-- end::FILTERS & GROUP ACTIONS -->\\r\\n\\r\\n\\t\\t<!-- MATERIAL TABLE | Binded to datasources -->\\r\\n\\t\\t<!-- See off.documentations 'https://material.angular.io/components/table/overview' -->\\r\\n\\r\\n\\t\\t<div class=\\\"mat-table__wrapper\\\">\\r\\n\\t\\t\\t<mat-table class=\\\"lmat-elevation-z8\\\"\\r\\n\\t\\t\\t\\t#table\\r\\n\\t\\t\\t\\t[dataSource]=\\\"dataSource\\\"\\r\\n\\t\\t\\t\\tmatSort\\r\\n\\t\\t\\t\\t#sort1=\\\"matSort\\\"\\r\\n\\t\\t\\t\\tmatSortActive=\\\"id\\\"\\r\\n\\t\\t\\t\\tmatSortDirection=\\\"asc\\\"\\r\\n\\t\\t\\t\\tmatSortDisableClear>\\r\\n\\t\\t\\t\\t<!-- Checkbox Column -->\\r\\n\\r\\n\\t\\t\\t\\t<!-- Table with selection -->\\r\\n\\t\\t\\t\\t<!-- https://run.stackblitz.com/api/angular/v1?file=app%2Ftable-selection-example.ts -->\\r\\n\\t\\t\\t\\t<!-- <ng-container matColumnDef=\\\"select\\\">\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef class=\\\"mat-column-checkbox\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-checkbox (change)=\\\"$event ? masterToggle() : null\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t[checked]=\\\"selection.hasValue() && isAllSelected()\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t[indeterminate]=\\\"selection.hasValue() && !isAllSelected()\\\">\\r\\n\\t\\t\\t\\t\\t\\t</mat-checkbox>\\r\\n\\t\\t\\t\\t\\t</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let row\\\" class=\\\"mat-column-checkbox\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-checkbox (click)=\\\"$event.stopPropagation()\\\" (change)=\\\"$event ? selection.toggle(row) : null\\\" [checked]=\\\"selection.isSelected(row)\\\">\\r\\n\\t\\t\\t\\t\\t\\t</mat-checkbox>\\r\\n\\t\\t\\t\\t\\t</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container> -->\\r\\n\\r\\n\\t\\t\\t<ng-container matColumnDef=\\\"id\\\">\\r\\n\\t\\t\\t\\t<!-- ATTRIBUTE mat-sort-header  for sorting | https://material.angular.io/components/sort/overview -->\\r\\n\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header>#</mat-header-cell>\\r\\n\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let package\\\">{{package.increment}}</mat-cell>\\r\\n\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"title\\\">\\r\\n\\t\\t\\t\\t\\t<!-- ATTRIBUTE mat-sort-header  for sorting | https://material.angular.io/components/sort/overview -->\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header >Title</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let package\\\" >{{package.title}}</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"discriptions\\\">\\r\\n\\t\\t\\t\\t\\t<!-- ATTRIBUTE mat-sort-header  for sorting | https://material.angular.io/components/sort/overview -->\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header  >Discriptions</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let package\\\"  >{{package.discriptions}}</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"type\\\">\\r\\n\\t\\t\\t\\t\\t<!-- ATTRIBUTE mat-sort-header  for sorting | https://material.angular.io/components/sort/overview -->\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header >Type</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let package\\\" >{{package.type}}</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"status\\\">\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header >Status</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell  *matCellDef=\\\"let package\\\" >\\r\\n\\t\\t\\t\\t\\t\\t<span *ngIf=\\\"package.status=='true'\\\" class=\\\"kt-badge kt-badge--inline kt-badge--pill kt-badge--success kt-badge--wide\\\">Active</span>\\r\\n\\t\\t\\t\\t\\t\\t<span *ngIf=\\\"package.status=='false'\\\" class=\\\"kt-badge kt-badge--inline kt-badge--pill kt-badge--danger kt-badge--wide\\\">Deactive</span>\\r\\n\\t\\t\\t\\t\\t</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<!-- image_url Column -->\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"image\\\">\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header> Image </mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let package\\\">\\r\\n\\t\\t\\t\\t\\t   <span *ngIf=\\\"package.image\\\">\\r\\n\\t\\t\\t\\t\\t\\t<img class=\\\"imagMaxWH\\\" src= \\\"{{Url}}/sm{{package.image.trim()}}\\\" alt=\\\"\\\">\\r\\n\\t\\t\\t\\t\\t   </span>\\r\\n\\t\\t\\t\\t\\t</mat-cell>\\r\\n\\t\\t\\t\\t  </ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"actions\\\" >\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef style=\\\"max-width:100px\\\">Actions</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let package ;let rowIndex = index\\\" style=\\\"max-width:100px\\\">\\r\\n\\t\\t\\t\\t\\t\\t<button (click)=\\\"editpackages(package._id)\\\" mat-icon-button color=\\\"primary\\\"  matTooltip=\\\"Edit Packages\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-icon>create</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t</button>&nbsp;\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t<mat-progress-spinner *ngIf=\\\"rowIndex == currentRowIndex\\\" style=\\\"margin:0 auto;\\\"mode=\\\"indeterminate\\\" diameter=\\\"30\\\">\\r\\n\\t\\t\\t\\t\\t\\t</mat-progress-spinner>\\r\\n\\t\\t\\t\\t\\t\\t<button *ngIf=\\\"package.status=='true' && rowIndex != currentRowIndex && checkedpermission('editmembership')\\\" mat-icon-button color=\\\"warn\\\" matTooltip=\\\"Deactive Packages\\\" type=\\\"button\\\"  (click)=\\\"deactivepackages(package._id,false ,rowIndex)\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-icon>delete</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t<button *ngIf=\\\"package.status=='false' && rowIndex != currentRowIndex && checkedpermission('editmembership')\\\" mat-icon-button color=\\\"primary\\\" matTooltip=\\\"Active Packages\\\" type=\\\"button\\\"  (click)=\\\"deactivepackages(package._id,true ,rowIndex)\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-icon>cached</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n                <ng-container matColumnDef=\\\"loading\\\">\\r\\n\\t\\t\\t\\t\\t<mat-footer-cell *matFooterCellDef colspan=\\\"7\\\">\\r\\n\\t\\t\\t\\t\\t</mat-footer-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></mat-header-row>\\r\\n\\r\\n\\t\\t\\t\\t<mat-row *matRowDef=\\\"let row; columns: displayedColumns\\\"></mat-row>\\r\\n\\t\\t\\t\\t<mat-footer-row *matFooterRowDef=\\\"['loading']\\\" [ngClass]=\\\"{'hide':checkedDataSource()}\\\">\\r\\n\\t\\t\\t\\t</mat-footer-row>\\r\\n\\t\\t\\t</mat-table>\\r\\n\\t\\t\\t<mat-paginator (page)=\\\"nextPage($event)\\\" [pageSizeOptions]=\\\"[5,10,25,100]\\\" [pageSize]=\\\"10\\\"></mat-paginator>\\r\\n        </div>\\r\\n\\t\\t<!-- end: BOTTOM -->\\r\\n\\t</kt-portlet-body>\\r\\n\\t<!-- end::Body -->\\r\\n</kt-portlet>\\r\\n\"","import { AfterViewInit, AfterViewChecked } from '@angular/core';\r\n// Angular\r\nimport { ViewEncapsulation, Component, OnInit, ElementRef, ViewChild, ChangeDetectionStrategy, OnDestroy, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n// Material\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\nimport { MatPaginator, MatSort, MatDialog, MatTableDataSource } from '@angular/material';\r\n// RXJS\r\nimport { debounceTime, distinctUntilChanged, tap, skip, take, delay, map } from 'rxjs/operators';\r\nimport { fromEvent, merge, Observable, of, Subscription } from 'rxjs';\r\n// LODASH\r\nimport { each, find } from 'lodash';\r\n\r\n// NGRX\r\n// import { Store, select } from '@ngrx/store';\r\nimport { AppState } from '../../../../core/reducers';\r\n\r\n// Services\r\nimport { LayoutUtilsService, MessageType, QueryParamsModel } from '../../../../core/_base/crud';\r\nimport { MembershipService } from '../../../../core/auth/_services'\r\nimport { PackagesEditDialogComponent } from './packages-edit/packages-edit.dialog.component';\r\n\r\nimport {\r\n\tMatSnackBar,\r\n\tMatSnackBarConfig,\r\n\tMatSnackBarHorizontalPosition,\r\n\tMatSnackBarVerticalPosition,\r\n} from '@angular/material';\r\n\r\n// Table with EDIT item in MODAL\r\n// ARTICLE for table with sort/filter/paginator\r\n// https://blog.angular-university.io/angular-material-data-table/\r\n// https://v5.material.angular.io/components/table/overview\r\n// https://v5.material.angular.io/components/sort/overview\r\n// https://v5.material.angular.io/components/table/overview#sorting\r\n// https://www.youtube.com/watch?v=NSt9CI3BXv4\r\n@Component({\r\n\tselector: 'kt-packages',\r\n\ttemplateUrl: './packages.component.html',\r\n\tstyleUrls: ['../membership.component.css'],\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\r\n\tencapsulation: ViewEncapsulation.None\r\n})\r\nexport class PackagesComponent implements OnInit, OnDestroy {\r\n\t// Table fields\r\n\tdataSource;\r\n\tlistData: MatTableDataSource<any>;\r\n\tselection = new SelectionModel<any>(true, []);\r\n\tdisplayedColumns = ['id', 'title', 'discriptions', 'type', 'status', 'image', 'actions'];\r\n\t@ViewChild(MatPaginator) paginator: MatPaginator;\r\n\t//@ViewChild(MatSort) sort: MatSort;\r\n\t// Filter fields\r\n\t@ViewChild('searchInput') searchInput: ElementRef;\r\n\tlastQuery: QueryParamsModel;\r\n\tSearchKey: string;\r\n\tselectedUser;\r\n\thasMessages: boolean = false;\r\n\tcheckdata: boolean = false;\r\n\t// Subscriptions\r\n\tprivate subscriptions: Subscription[] = [];\r\n\tprivate Url: String;\r\n\tdataLength: any;\r\n\tisLoading :boolean=false;\r\n\tcurrentRowIndex: Number =-1;;\r\n\t/**\r\n\t *\r\n\t * @param activatedRoute: ActivatedRoute\r\n\t * @param store: Store<AppState>\r\n\t * @param router: Router\r\n\t * @param layoutUtilsService: LayoutUtilsService\r\n\t */\r\n\tconstructor(\r\n\t\tprivate activatedRoute: ActivatedRoute,\r\n\t\t// private store: Store<AppState>,\r\n\t\tprivate router: Router,\r\n\t\tprivate layoutUtilsService: LayoutUtilsService,\r\n\t\tpublic dialog: MatDialog,\r\n\t\tprivate ser: MembershipService,\r\n\t\tpublic snackBar: MatSnackBar,\r\n\t\tprivate changeDetectorRefs: ChangeDetectorRef\r\n\r\n\t) {\r\n\t\t\r\n\t}\r\n\t/**\r\n\t * @ Lifecycle sequences => https://angular.io/guide/lifecycle-hooks\r\n\t */\r\n\r\n\t/**\r\n\t * On init\r\n\t */\r\n\tngOnInit() {\r\n\t\tif (localStorage.getItem('user')) {\r\n\t\t\ttry {\r\n\t\t\t\tlet user = JSON.parse(localStorage.getItem('user'))\r\n\t\t\t\tthis.Url = (user['baseurl']).trim()\r\n\t\t\t} catch (error) {\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\t//this.dataSource=[];\r\n\t\tthis.getallpackages()\r\n\t}\r\n\r\n\t// ngAfterViewInit() {\r\n\t// \t//this.getallpackages()\r\n\t// }\r\n\t/**\r\n\t * On Destroy\r\n\t */\r\n\tngOnDestroy() {\r\n\t\tthis.subscriptions.forEach(el => el.unsubscribe());\r\n\t}\r\n\taddMembership() {\r\n\t\tif (this.checkedpermission('addmembership')) {\r\n\t\t\tconst dialogRef = this.dialog.open(PackagesEditDialogComponent, { data: {} });\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.openAlert()\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Close alert\r\n\t *\r\n\t * @param $event: Event\r\n\t */\r\n\tonAlertClose($event) {\r\n\t\tthis.hasMessages = false;\r\n\t}\r\n\r\n\r\n\tgetallpackages(pages = 1, prepage = 30, search = null) {\r\n\t\tif (this.checkedpermission('getmembership')) {\r\n\t\t\tthis.isLoading=true;\r\n\t\t\tthis.ser.getallpackages(pages, prepage, search).subscribe(\r\n\t\t\t\tres => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif (res['result']) {\r\n\t\t\t\t\t\tthis.dataSource = new MatTableDataSource(res['data']);\r\n\t\t\t\t\t\tthis.dataLength = res['data'].length;\r\n\t\t\t\t\t\t// Assign the paginator *after* dataSource is set\r\n\t\t\t\t\t\t// this.dataSource.paginator = this.paginator;\r\n\t\t\t\t\t\tthis.changeDetectorRefs.detectChanges();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.isLoading=false;\r\n\t\t\t\t\tthis.changeDetectorRefs.detectChanges();\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.openAlert()\r\n\t\t}\r\n\t}\r\n\r\n\teditpackages(id) {\r\n\r\n\t\tif (this.checkedpermission('editmembership')) {\r\n\t\t\tconst dialogRef = this.dialog.open(PackagesEditDialogComponent, { data: { id } });\r\n\t\t} else {\r\n\t\t\tthis.openAlert()\r\n\t\t}\r\n\r\n\t}\r\n\r\n\topenAlert() {\r\n\t\tlet message = 'Oh Snap ! You dont have permission to get this data';\r\n\t\tlet actionButtonLabel = '';\r\n\t\tlet action = true;\r\n\t\tlet setAutoHide = true;\r\n\t\tlet autoHide = 4000;\r\n\t\tlet horizontalPosition: MatSnackBarHorizontalPosition = 'center';\r\n\t\tlet verticalPosition: MatSnackBarVerticalPosition = 'top';\r\n\r\n\t\tlet addExtraClass = false;\r\n\t\tlet config = new MatSnackBarConfig();\r\n\t\tconfig.verticalPosition = verticalPosition;\r\n\t\tconfig.horizontalPosition = horizontalPosition;\r\n\t\tconfig.duration = setAutoHide ? autoHide : 0;\r\n\t\t//  config['extraClasses'] = addExtraClass ? ['warn-snackbar'] : undefined;\r\n\t\tconfig.panelClass = ['warn-snackbar'];\r\n\t\tthis.snackBar.open(message, action ? actionButtonLabel : undefined, config);\r\n\t}\r\n\r\n\tdeactivepackages(id, status ,rowIndex) {\r\n\t\tif(!status){\r\n\t\t\tthis.currentRowIndex = rowIndex;\r\n\t\t\tconst _title: string = 'Deactive Membership';\r\n\t\t\tconst _description: string = 'Are you sure to Deactive this Membership?';\r\n\t\t\tconst _waitDesciption: string = 'Processing...';\r\n\t\t\tconst dialogRef = this.layoutUtilsService.RenwElement(_title, _description, _waitDesciption);\r\n\t\t\tdialogRef.afterClosed().subscribe(res => {\r\n\t\t\t\tif (!res) {\r\n\t\t\t\t\tthis.currentRowIndex=-1;\r\n\t\t\t\t\tthis.changeDetectorRefs.detectChanges();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.activeDeactiveDB(id, status ,rowIndex);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.activeDeactiveDB(id, status ,rowIndex);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tactiveDeactiveDB(id, status ,rowIndex){\r\n\t\tconst stateTxt=(status)?'Active':'Deactive'\r\n\t\tthis.ser.updatepackages(id, { status }).subscribe(\r\n\t\t\tres => {\r\n\t\t\t\tif(res['result']){\r\n\t\t\t\t\t// if (this.router.url == '/default/membership/packages')\r\n\t\t\t\t\t// \tthis.router.navigateByUrl(\"/default/membership/package\");\r\n\t\t\t\t\t// else this.router.navigateByUrl(\"/default/membership/packages\");\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.layoutUtilsService.showActionNotification('Membership Has Been '+stateTxt+'d Successfully', MessageType.Update);\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t\tthis.dataSource[\"data\"][rowIndex][\"status\"]=status.toString();\r\n\t\t\t\t\tthis.changeDetectorRefs.detectChanges();\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.layoutUtilsService.showActionNotification('Error While '+stateTxt+' Membership', MessageType.Update);\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t}\r\n\t\t\t\tthis.currentRowIndex=-1;\r\n\t\t\t\tthis.changeDetectorRefs.detectChanges();\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\tprivate refreshTable() {\r\n\t\tthis.paginator._changePageSize(this.paginator.pageSize);\r\n\t}\r\n\tapplyFilter() {\r\n\t\t//this.listData.filter=this.SearchKey.trim().toLowerCase()\r\n\t\t//console.log(this.searchInput.nativeElement.value)\r\n\t\t\tthis.getallpackages(null, null, this.searchInput.nativeElement.value);\r\n\t}\r\n\tonSearchClear() {\r\n\t\tthis.SearchKey ='';\r\n\t\tthis.searchInput.nativeElement.value='';\r\n\t\tthis.applyFilter()\r\n\t}\r\n\tnextPage(event) {\r\n\t\tthis.getallpackages(event.pageIndex + 1, event.pageSize, null)\r\n\t}\r\n\t//checked if there is inivitations or not\r\n\tcheckedDataSource() {\r\n\t\tif (this.dataSource) {\r\n\t\t\tif (this.dataSource.data) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t\telse return false\r\n\t\t}\r\n\t\telse false\r\n\t}\r\n\tcheckedpermission(key: String) {\r\n\t\tlet checked = false\r\n\t\tif (localStorage.getItem('user')) {\r\n\r\n\t\t\tif (JSON.parse(localStorage.getItem('user'))) {\r\n\t\t\t\tlet user = JSON.parse(localStorage.getItem('user'))\r\n\r\n\t\t\t\tif (user['allPrivilidge']) {\r\n\t\t\t\t\tconst privilidge = user['allPrivilidge']\r\n\r\n\t\t\t\t\tObject.keys(privilidge).forEach(role => {\r\n\t\t\t\t\t\tObject.keys(privilidge[role]).forEach(pri => {\r\n\r\n\t\t\t\t\t\t\tlet per = (privilidge[role][pri].toString()).trim()\r\n\t\t\t\t\t\t\tif (key.trim() == per) {\r\n\t\t\t\t\t\t\t\tchecked = true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn checked\r\n\t}\r\n\r\n}\r\n"],"sourceRoot":""}
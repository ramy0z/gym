{"version":3,"sources":["webpack:///./src/app/core/auth/_guards/permission.guard.ts","webpack:///./src/app/views/pages/billing/billing.module.ts","webpack:///./src/app/views/pages/billing/billing/billing.component.html","webpack:///./src/app/views/pages/billing/billing/billing.component.scss","webpack:///./src/app/views/pages/billing/billing/billing.component.ts","webpack:///./src/app/views/pages/billing/view-billing/view-billing.component.html","webpack:///./src/app/views/pages/billing/view-billing/view-billing.component.scss","webpack:///./src/app/views/pages/billing/view-billing/view-billing.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,UAAU;AACV,oGAA2C;AAC3C,4GAAmG;AAInG,OAAO;AACP,kGAA4C;AAG5C,gKAAmF;AACnF,8IAAsE;AAKtE;IAEI,yBAAoB,KAAsB,EAAU,MAAc,EAAS,UAA6B,EAAS,IAAgB;QAA7G,UAAK,GAAL,KAAK,CAAiB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAS,eAAU,GAAV,UAAU,CAAmB;QAAS,SAAI,GAAJ,IAAI,CAAY;IAAI,CAAC;IAEtI,qCAAW,GAAX,UAAY,KAA6B,EAAE,KAA0B;QAArE,iBAsGC;QArGG,IAAM,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,OAAO,CAAW,CAAC;QACvD,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC;QAC5E,OAAO,CAAC,GAAG,CAAC,UAAU,EAAC,WAAW,EAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACtD,IAAI,CAAE,IAAI,CAAC,OAAO,EAAE,EACpB;YAEI,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;SAC3C;aAED;YACI,IAAG,UAAU,IAAE,OAAO,EACtB;gBACE,IAAG,CAAE,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;oBACjD,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;gBACxC,IAAG,CAAE,WAAW,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC;oBACtC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;aAEzC;iBACI,IAAG,UAAU,IAAE,UAAU,EAC9B;gBACI,IAAG,CAAE,WAAW,CAAC,YAAY,CAAC;oBAC9B,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC;gBACvC,IAAG,CAAE,WAAW,CAAC,YAAY,CAAC,CAAC,cAAc,CAAC;oBAC9C,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC;aAC1C;iBACI,IAAG,UAAU,IAAE,SAAS,EAC7B;gBACI,IAAG,CAAE,WAAW,CAAC,SAAS,CAAC;oBAC3B,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC;gBACvC,IAAG,CAAE,WAAW,CAAC,SAAS,CAAC,CAAC,aAAa,CAAC;oBAC1C,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC;aAC1C;iBACI,IAAG,UAAU,IAAE,OAAO,EAC3B;gBACI,IAAG,CAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC,iBAAiB,CAAC,CAAC;oBAChD,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;gBACxC,IAAG,CAAE,WAAW,CAAC,iBAAiB,CAAC,CAAC,eAAe,CAAC;oBACpD,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;aAC3C;iBACI,IAAG,UAAU,IAAE,aAAa,EACjC;gBACI,IAAG,CAAC,WAAW,CAAC,iBAAiB,CAAC;oBAClC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;gBACxC,IAAG,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC,YAAY,CAAC;oBAChD,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;aAC3C;iBACI,IAAI,UAAU,IAAE,UAAU,EAC/B;gBACM,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,aAAG;oBAC/B,IAAG,CAAC,GAAG,EACP;wBACA,KAAI,CAAC,MAAM,CAAC,aAAa,CAAC,uBAAuB,CAAC;qBACjD;gBACL,CAAC,CAAC;gBACF,IAAG,CAAE,WAAW,CAAC,iBAAiB,CAAC;oBACnC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC;gBACvC,IAAG,CAAE,WAAW,CAAC,iBAAiB,CAAC,CAAC,aAAa,CAAC;oBAClD,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC;aAC5C;iBACI,IAAI,UAAU,IAAE,SAAS,EAC9B;gBACI,IAAG,CAAE,WAAW,CAAC,iBAAiB,CAAC;oBACnC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC;gBACvC,IAAG,CAAE,WAAW,CAAC,iBAAiB,CAAC,CAAC,SAAS,CAAC;oBAC9C,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC;aAE1C;iBACI,IAAG,UAAU,IAAE,SAAS,EAC7B;gBACI,IAAG,CAAE,WAAW,CAAC,iBAAiB,CAAC;oBACnC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC;gBACvC,IAAG,CAAE,WAAW,CAAC,iBAAiB,CAAC,CAAC,aAAa,CAAC;oBAClD,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC;aAC1C;iBACI,IAAG,UAAU,IAAE,UAAU,EAC9B;gBACI,IAAG,CAAE,WAAW,CAAC,iBAAiB,CAAC;oBACnC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC;gBACvC,IAAG,CAAE,WAAW,CAAC,iBAAiB,CAAC,CAAC,eAAe,CAAC;oBACpD,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC;aAC1C;iBACI,IAAG,UAAU,IAAE,YAAY,EAChC;gBACI,IAAG,CAAE,WAAW,CAAC,YAAY,CAAC;oBAC9B,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC;gBACvC,IAAG,CAAE,WAAW,CAAC,YAAY,CAAC,CAAC,gBAAgB,CAAC;oBAChD,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC;aAC1C;iBAEI,IAAG,UAAU,IAAE,UAAU,EAC9B;gBACI,IAAG,CAAE,WAAW,CAAC,YAAY,CAAC;oBAC9B,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC;gBACvC,IAAG,CAAE,WAAW,CAAC,YAAY,CAAC,CAAC,gBAAgB,CAAC;oBAChD,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC;aAC1C;SAEJ;QAEG,OAAO,IAAI,CAAC;IAEpB,CAAC;IACL,iCAAO,GAAP;QAEI,IAAI,MAAM,GAAC,CAAC;QACZ,IAAG,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,EAC/B;YACA,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,OAAO,CAAC,UAAS,IAAI;gBAC1F,MAAM,IAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM;gBACnC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAE;YAC5C,CAAC,CAAC;SAED;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;IACD,2CAAiB,GAAjB,UAAkB,MAAM;QAGpB,IAAI,MAAM,GAAC,CAAC;QACZ,IAAG,MAAM,EACT;YAEA,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAS,IAAI;gBACvC,MAAM,IAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM;gBACnC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAE;YAC5C,CAAC,CAAC;SAED;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;IAtIY,eAAe;QAH3B,iBAAU,EAAE;yCAKkB,aAAK,EAA4B,eAAM,EAAoB,wCAAkB,EAAc,2BAAW;OAFxH,eAAe,CAwI3B;IAAD,sBAAC;CAAA;AAxIY,0CAAe;;;;;;;;;;;;;;;;;;;;;AChB5B,oGAAyC;AACzC,4GAA+C;AAC/C,4GAAuD;AACvD,wGAAkE;AAClE,+IAA+D;AAC/D,wKAA6E;AAE7E,iIAAgE;AAChE,mJAA8E;AAE9E,WAAW;AACX,uHAwB2B;AAsD3B;IAAA;IAA6B,CAAC;IAAjB,aAAa;QApDzB,eAAQ,CAAC;YACR,YAAY,EAAE,CAAC,oCAAgB,EAAE,6CAAoB,CAAC;YACtD,OAAO,EAAE;gBACP,qBAAY;gBACZ,mBAAW;gBACX,2BAAmB;gBACnB,qBAAY,CAAC,QAAQ,CAAC;oBACpB;wBACE,IAAI,EAAE,EAAE;wBACR,SAAS,EAAE,oCAAgB;wBAC3B,WAAW,EAAC,CAAC,kCAAe,CAAC;qBAC9B;iBACF,CAAC;gBACF,gCAAc;gBACd,yBAAc;gBACd,6BAAkB;gBAClB,mCAAwB;gBACxB,wBAAa;gBACb,yBAAc;gBACd,0BAAe;gBACf,wBAAa;gBACb,+BAAoB;gBACpB,0BAAe;gBACf,4BAAiB;gBACjB,0BAAe;gBACf,wBAAa;gBACb,8BAAmB;gBACnB,wBAAa;gBACb,yBAAc;gBACd,wBAAa;gBACb,8BAAmB;gBACnB,6BAAkB;gBAClB,wBAAa;gBACb,gCAAqB;gBACrB,4BAAiB;gBACjB,2BAAgB;aACjB;YACD,eAAe,EAAE;gBACf,6CAAoB;aACrB;YACD,SAAS,EAAE,CAAC,kCAAe;gBACzB;oBACE,OAAO,EAAE,qCAA0B;oBACnC,QAAQ,EAAE;wBACR,WAAW,EAAE,IAAI;wBACjB,UAAU,EAAE,kCAAkC;wBAC9C,MAAM,EAAE,MAAM;wBACd,KAAK,EAAE,OAAO;qBACf;iBACF;aACF;SACF,CAAC;OACW,aAAa,CAAI;IAAD,oBAAC;CAAA;AAAjB,sCAAa;;;;;;;;;;;;ACzF1B,24IAA24I,UAAU,sPAAsP,uBAAuB,kPAAkP,yCAAyC,sPAAsP,uCAAuC,sXAAsX,wBAAwB,8ZAA8Z,kBAAkB,saAAsa,6LAA6L,uVAAuV,eAAe,wJ;;;;;;;;;;;ACAj+N,kCAAkC,8BAA8B,EAAE,+CAA+C,2e;;;;;;;;;;;;;;;;;;;;;;;ACAjH,oGAAwF;AACxF,0HAAoF;AACpF,yKAA6E;AAC7E,uJAAiF;AAEjF,wGAAiF;AACjF,uHAM2B;AAO3B;IAgBE,0BAAoB,cAA8B,EAAS,QAAqB,EAAS,MAAiB,EAAU,kBAAqC,EAAU,EAAe;QAA9J,mBAAc,GAAd,cAAc,CAAgB;QAAS,aAAQ,GAAR,QAAQ,CAAa;QAAS,WAAM,GAAN,MAAM,CAAW;QAAU,uBAAkB,GAAlB,kBAAkB,CAAmB;QAAU,OAAE,GAAF,EAAE,CAAa;QAdlL,iBAAY,GAAW,EAAE,CAAC;QAC1B,qBAAgB,GAAG,CAAC,UAAU,EAAE,aAAa,EAAE,WAAW,EAAE,SAAS,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;QAOxG,kBAAa,GAAY,KAAK,CAAC;QAC/B,gBAAW,GAAY,KAAK,CAAC;IAK2J,CAAC;IAEzL,mCAAQ,GAAR;QACE,IAAI,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;QACrB,IAAI,QAAQ,GAAG,IAAI,IAAI,EAAE,CAAC;QAC1B,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;QACtC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC/B,KAAK,EAAE,CAAC,QAAQ,EAAE,CAAC,kBAAU,CAAC,QAAQ,CAAC,CAAC;YACxC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,kBAAU,CAAC,QAAQ,CAAC,CAAC;SAClC,CAAC;IAEJ,CAAC;IACD,sCAAW,GAAX,UAAY,UAAU,EAAE,QAAQ;QAAhC,iBAkDC;QAjDC,IAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;QAC3C,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE;YAC5B,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,qBAAW;gBACvC,eAAQ,CAAC,WAAW,CAAC,CAAC,aAAa,EAAE;YAArC,CAAqC,CACtC,CAAC;YACF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,OAAO;SACR;QACD,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC;QAC7B,UAAU,GAAG,CAAC,CAAC,WAAW,EAAE,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,OAAO,EAAE,CAAC;QAC5E,IAAI,EAAE,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC5B,QAAQ,GAAG,EAAE,CAAC,WAAW,EAAE,GAAG,GAAG,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,OAAO,EAAE,CAAC;QAC7E,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QACnE,IAAI,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,EAAE;YACzC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,aAAG;gBAE9E,IAAI,MAAM,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC;gBAC3B,IAAI,IAAI,GAAc,GAAG,CAAC,MAAM,CAAC,CAAC;gBAClC,IAAI,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;oBACrC,KAAI,CAAC,aAAa,GAAG,EAAE,CAAC;oBAExB,KAAI,CAAC,QAAQ,GAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;oBAE/D,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,GAAG,IAAI,6BAAkB,CAAU,IAAI,CAAC,CAAC;oBAC1E,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,KAAI,CAAC,UAAU,CAAC,CAAC;oBAC3C,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,KAAI,CAAC,OAAO,CAAC,CAAC;oBACrC,KAAI,CAAC,kBAAkB,CAAC,aAAa,EAAE,CAAC;iBACzC;qBACI,IAAI,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;oBAC3C,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;oBACnB,KAAI,CAAC,UAAU,GAAG,EAAE,CAAC;oBACrB,KAAI,CAAC,aAAa,GAAG,mCAAmC,CAAC;oBACzD,KAAI,CAAC,kBAAkB,CAAC,aAAa,EAAE,CAAC;oBACxC,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,KAAI,CAAC,aAAa,CAAC;iBAC3C;qBACI,IAAI,MAAM,IAAI,KAAK,EAAE;oBACxB,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;oBACnB,KAAI,CAAC,UAAU,GAAG,EAAE,CAAC;oBACrB,KAAI,CAAC,aAAa,GAAG,uCAAuC,CAAC;oBAC7D,KAAI,CAAC,kBAAkB,CAAC,aAAa,EAAE,CAAC;oBACxC,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,KAAI,CAAC,aAAa,CAAC;iBAC3C;gBAED,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;YAClB,CAAC,CAAC;SACH;aACI;YACH,IAAI,CAAC,IAAI,EAAE;SACZ;IACH,CAAC;IACD,sCAAW,GAAX,UAAY,OAAO;QACjB,IAAI,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,EAAE;YACzC,IAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,6CAAoB,EAAE;gBACvD,KAAK,EAAE,KAAK;gBACZ,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,EAAE,SAAS,EAAE,OAAO,EAAE,UAAU,EAAE,IAAI,CAAC,QAAQ,EAAE;aACxD,CAAC,CAAC;YAEH,SAAS,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,gBAAM;gBACtC,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;YACvC,CAAC,CAAC,CAAC;SACJ;aACI;YACH,IAAI,CAAC,IAAI,EAAE;SACZ;IACH,CAAC;IAED,4CAAiB,GAAjB,UAAkB,GAAW;QAC3B,IAAI,OAAO,GAAG,KAAK;QACnB,IAAI,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YAEhC,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE;gBAC5C,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBAEnD,IAAI,IAAI,CAAC,eAAe,CAAC,EAAE;oBACzB,IAAM,YAAU,GAAG,IAAI,CAAC,eAAe,CAAC;oBAExC,MAAM,CAAC,IAAI,CAAC,YAAU,CAAC,CAAC,OAAO,CAAC,cAAI;wBAClC,MAAM,CAAC,IAAI,CAAC,YAAU,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,aAAG;4BAEvC,IAAI,GAAG,GAAG,CAAC,YAAU,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,IAAI,EAAE;4BACnD,IAAI,GAAG,CAAC,IAAI,EAAE,IAAI,GAAG,EAAE;gCACrB,OAAO,GAAG,IAAI;6BACf;wBACH,CAAC,CAAC;oBACJ,CAAC,CAAC;iBACH;aACF;SACF;QAED,OAAO,OAAO;IAChB,CAAC;IAGD,+BAAI,GAAJ;QACE,IAAI,OAAO,GAAG,qDAAqD,CAAC;QACpE,IAAI,iBAAiB,GAAG,EAAE,CAAC;QAC3B,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,WAAW,GAAG,IAAI,CAAC;QACvB,IAAI,QAAQ,GAAG,IAAI,CAAC;QACpB,IAAI,kBAAkB,GAAkC,QAAQ,CAAC;QACjE,IAAI,gBAAgB,GAAgC,KAAK,CAAC;QAE1D,IAAI,aAAa,GAAG,KAAK,CAAC;QAC1B,IAAI,MAAM,GAAG,IAAI,4BAAiB,EAAE,CAAC;QACrC,MAAM,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;QAC3C,MAAM,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC/C,MAAM,CAAC,QAAQ,GAAG,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7C,2EAA2E;QAC3E,MAAM,CAAC,UAAU,GAAG,CAAC,eAAe,CAAC,CAAC;QACtC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IAC9E,CAAC;IA5IU,gBAAgB;QAN5B,gBAAS,CAAC;YACT,QAAQ,EAAE,YAAY;YACtB,6HAAuC;YAEvC,aAAa,EAAE,wBAAiB,CAAC,IAAI;;SACtC,CAAC;yCAiBoC,gCAAc,EAAmB,sBAAW,EAAiB,kBAAS,EAA8B,wBAAiB,EAAc,mBAAW;OAhBvK,gBAAgB,CAgJ5B;IAAD,uBAAC;CAAA;AAhJY,4CAAgB;;;;;;;;;;;;ACnB7B,2ZAA2Z,aAAa,6UAA6U,UAAU,iHAAiH,uCAAuC,sHAAsH,wFAAwF,SAAS,ubAAub,UAAU,0GAA0G,uBAAuB,kLAAkL,6BAA6B,2GAA2G,wBAAwB,+VAA+V,yCAAyC,kIAAkI,yCAAyC,qgBAAqgB,wBAAwB,0GAA0G,uBAAuB,yIAAyI,sBAAsB,2mCAA2mC,UAAU,oRAAoR,uBAAuB,qTAAqT,yCAAyC,2WAA2W,uBAAuB,mUAAmU,sBAAsB,mQAAmQ,yCAAyC,4WAA4W,6BAA6B,4KAA4K,wBAAwB,ooBAAooB,wBAAwB,68CAA68C,2BAA2B,uDAAuD,UAAU,uDAAuD,YAAY,uDAAuD,sBAAsB,uDAAuD,sBAAsB,uDAAuD,uBAAuB,mQAAmQ,kBAAkB,mFAAmF,aAAa,wdAAwd,SAAS,kPAAkP,kBAAkB,yPAAyP,mBAAmB,qK;;;;;;;;;;;ACA1hV,wBAAwB,qBAAqB,sBAAsB,yBAAyB,EAAE,YAAY,iBAAiB,EAAE,oBAAoB,8BAA8B,EAAE,+CAA+C,uxB;;;;;;;;;;;;;;;;;;;;;;;;;;ACAhO,oGAAiF;AACjF,uHAAkE;AAClE,uJAAiF;AAGjF,iJAAyE;AAOzE;IAaE,8BACS,SAA6C,EACpB,IAAS,EACjC,cAA8B,EAC9B,WAAuB;QAHxB,cAAS,GAAT,SAAS,CAAoC;QACpB,SAAI,GAAJ,IAAI,CAAK;QACjC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,gBAAW,GAAX,WAAW,CAAY;QAbjC,gBAAW,GAAG,CAAC,CAAC;QAIhB,YAAO,GAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QAG5D,qBAAgB,GAAC,CAAC,CAAC;IAOf,CAAC;IAEL,uCAAQ,GAAR;QAAA,iBA8BC;QA7BC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;QACjC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;QACnC,IAAI,UAAU,GAAC,IAAI,CAAC,OAAO,CAAC,UAAU;QACtC,IAAI,QAAQ,GAAE,IAAI,CAAC,OAAO,CAAC,QAAQ;QACpC,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC;QAC7B,UAAU,GAAG,CAAC,CAAC,WAAW,EAAE,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,OAAO,EAAE,CAAC;QAC5E,IAAI,EAAE,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC5B,QAAQ,GAAG,EAAE,CAAC,WAAW,EAAE,GAAG,GAAG,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,OAAO,EAAE,CAAC;QAChF,IAAG,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,EAAC;YACtC,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC;iBACrE,SAAS,CAAC,aAAG;gBACZ,KAAI,CAAC,cAAc,GAAG,GAAG,CAAC;gBAE1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACnD,IAAG,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,IAAE,CAAC,EAAC;wBAC9B,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,OAAO,GAAC,CAAC,CAAC;wBACjC,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,MAAM,GAAC,CAAC,CAAC;qBACnC;oBAED,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;oBACrE,KAAI,CAAC,gBAAgB,GAAC,KAAI,CAAC,gBAAgB,GAAG,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,MAAM;oBAC3E,+EAA+E;oBAC/E,2BAA2B;oBAC3B,4CAA4C;oBAC5C,KAAK;iBACN;gBACD,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,SAAS,GAAG,CAAC,KAAI,CAAC,OAAO,CAAC,SAAS,GAAG,KAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC;YAC9G,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IACD,oCAAK,GAAL;QACE,IAAI,aAAa,EAAE,QAAQ,CAAC;QAC5B,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,SAAS,CAAC;QACjE,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,EAAE,qCAAqC,CAAC,CAAC;QAC5E,QAAQ,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACzB,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,4hBAauB,aAAa,2BAClD,CACT,CAAC;QACF,QAAQ,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;IAC9B,CAAC;IACC,gDAAiB,GAAjB,UAAkB,GAAW;QAC3B,IAAI,OAAO,GAAG,KAAK;QACnB,IAAI,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YAEhC,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE;gBAC5C,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBAEnD,IAAI,IAAI,CAAC,eAAe,CAAC,EAAE;oBACzB,IAAM,YAAU,GAAG,IAAI,CAAC,eAAe,CAAC;oBAExC,MAAM,CAAC,IAAI,CAAC,YAAU,CAAC,CAAC,OAAO,CAAC,cAAI;wBAClC,MAAM,CAAC,IAAI,CAAC,YAAU,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,aAAG;4BAEvC,IAAI,GAAG,GAAG,CAAC,YAAU,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,IAAI,EAAE;4BACnD,IAAI,GAAG,CAAC,IAAI,EAAE,IAAI,GAAG,EAAE;gCACrB,OAAO,GAAG,IAAI;6BACf;wBACH,CAAC,CAAC;oBACJ,CAAC,CAAC;iBACH;aACF;SACF;QAED,OAAO,OAAO;IAChB,CAAC;IAtFyB;QAAzB,gBAAS,CAAC,aAAa,CAAC;kCAAc,iBAAU;6DAAC;IAZvC,oBAAoB;QALhC,gBAAS,CAAC;YACT,QAAQ,EAAE,iBAAiB;YAC3B,4IAA4C;;SAE7C,CAAC;QAgBG,wBAAM,CAAC,0BAAe,CAAC;yCADN,uBAAY,UAEN,gCAAc;YAClB,2BAAW;OAjBtB,oBAAoB,CAoGhC;IAAD,2BAAC;CAAA;AApGY,oDAAoB","file":"app-views-pages-billing-billing-module.js","sourcesContent":["// Angular\r\nimport { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\r\n// RxJS\r\nimport { Observable } from 'rxjs';\r\nimport { tap } from 'rxjs/operators';\r\n// NGRX\r\nimport { select, Store } from '@ngrx/store';\r\n// Auth reducers and selectors\r\nimport { AppState} from '../../../core/reducers/';\r\nimport {PermissionsService} from '../../../core/auth/_services/permissions.service'\r\nimport {UserService} from '../../../core/auth/_services/-user.service'\r\nimport { permissionsReducer } from '../_reducers/permission.reducers';\r\n@Injectable()\r\n\r\n\r\nexport class PermissionGuard implements CanActivate {\r\n    \r\n    constructor(private store: Store<AppState>, private router: Router,private permission:PermissionsService,private user:UserService) { }\r\n\r\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): any{\r\n        const moduleName = route.data['title'] as string;\r\n  let permissions = JSON.parse(localStorage.getItem('user'))['allPrivilidge'];\r\n  console.log(moduleName,permissions,this.permission['Roles'])\r\n        if( ! this.checked())\r\n        {\r\n            \r\n            this.router.navigateByUrl('/error/403');\r\n        }\r\n        else \r\n        {\r\n            if(moduleName=='roles')\r\n            {\r\n              if(! this.checkedPermission(permissions['Roles']) )\r\n              this.router.navigateByUrl('/error/403');\r\n              if(! permissions['Roles']['Get Roles'] )\r\n              this.router.navigateByUrl('/error/403');\r\n             \r\n            }\r\n            else if(moduleName=='workouts')\r\n            {\r\n                if(! permissions['Attendance'])\r\n                this.router.navigateByUrl('/error/403')\r\n                if(! permissions['Attendance']['Get Workouts'])\r\n                this.router.navigateByUrl('/error/403')\r\n            }\r\n            else if(moduleName=='billing')\r\n            {\r\n                if(! permissions['Billing'])\r\n                this.router.navigateByUrl('/error/403')\r\n                if(! permissions['Billing']['Get Billing'])\r\n                this.router.navigateByUrl('/error/403')\r\n            }\r\n            else if(moduleName=='users')\r\n            {\r\n                if(! this.checkedPermission(['Users Mangement']))\r\n                this.router.navigateByUrl('/error/403');\r\n                if(! permissions['Users Mangement']['Get All Users'])\r\n                this.router.navigateByUrl('/error/403');\r\n            }\r\n            else if(moduleName=='invitations')\r\n            {\r\n                if(!permissions['Users Mangement'])\r\n                this.router.navigateByUrl('/error/403'); \r\n                if(!permissions['Users Mangement']['Invitation'])\r\n                this.router.navigateByUrl('/error/403'); \r\n            }\r\n            else if (moduleName=='editUser')\r\n            {\r\n                  this.user.currentUser.subscribe(res=>{\r\n                      if(!res)\r\n                      {\r\n                      this.router.navigateByUrl('user-management/users')\r\n                      }\r\n                  })\r\n                  if(! permissions['Users Mangement'])\r\n                  this.router.navigateByUrl('/error/403')\r\n                  if(! permissions['Users Mangement']['Update User'])\r\n                  this.router.navigateByUrl('/error/403')\r\n            }\r\n            else if (moduleName=='setting')\r\n            {\r\n                if(! permissions['Users Mangement'])\r\n                this.router.navigateByUrl('/error/403')\r\n                if(! permissions['Users Mangement']['Setting'])\r\n                this.router.navigateByUrl('/error/403')\r\n\r\n            }\r\n            else if(moduleName=='addUser')\r\n            {\r\n                if(! permissions['Users Mangement'])\r\n                this.router.navigateByUrl('/error/403')\r\n                if(! permissions['Users Mangement']['Create User'])\r\n                this.router.navigateByUrl('/error/403')\r\n            }\r\n            else if(moduleName=='clubtree')\r\n            {\r\n                if(! permissions['Users Mangement'])\r\n                this.router.navigateByUrl('/error/403')\r\n                if(! permissions['Users Mangement']['Get All Users'])\r\n                this.router.navigateByUrl('/error/403')\r\n            }\r\n            else if(moduleName=='activities')\r\n            {\r\n                if(! permissions['Activities'])\r\n                this.router.navigateByUrl('/error/403')\r\n                if(! permissions['Activities']['Get Activities'])\r\n                this.router.navigateByUrl('/error/403')\r\n            }\r\n            \r\n            else if(moduleName=='packages')\r\n            {\r\n                if(! permissions['Membership'])\r\n                this.router.navigateByUrl('/error/403')\r\n                if(! permissions['Membership']['Get Membership'])\r\n                this.router.navigateByUrl('/error/403')\r\n            }\r\n           \r\n        }\r\n           \r\n            return true;\r\n        \r\n    }\r\nchecked()\r\n{\r\n    let length=0\r\n    if(localStorage.getItem('user'))\r\n    {\r\n    Object.values(JSON.parse(localStorage.getItem('user'))['allPrivilidge']).forEach(function(elem){\r\n        length +=Object.values(elem).length \r\n        console.log(Object.values(elem).length )   \r\n    })\r\n   \r\n    }\r\n    return length;\r\n}\r\ncheckedPermission(object)\r\n{\r\n\r\n    let length=0\r\n    if(object)\r\n    {\r\n    \r\n    Object.values(object).forEach(function(elem){\r\n        length +=Object.values(elem).length \r\n        console.log(Object.values(elem).length )   \r\n    })\r\n   \r\n    }\r\n    return length;\r\n}\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { BillingComponent } from './billing/billing.component';\r\nimport { ViewBillingComponent } from './view-billing/view-billing.component';\r\nimport { BillingService } from '../../../core/auth/_services/billing.service';\r\nimport { PartialsModule } from '../../partials/partials.module';\r\nimport { PermissionGuard } from '../../../core/auth/_guards/permission.guard';\r\n\r\n// Material\r\nimport {\r\n  MatInputModule,\r\n  MatPaginatorModule,\r\n  MatProgressSpinnerModule,\r\n  MatSortModule,\r\n  MatTableModule,\r\n  MatSelectModule,\r\n  MatMenuModule,\r\n  MatProgressBarModule,\r\n  MatButtonModule,\r\n  MatCheckboxModule,\r\n  MatDialogModule,\r\n  MatTabsModule,\r\n  MatNativeDateModule,\r\n  MatCardModule,\r\n  MatRadioModule,\r\n  MatIconModule,\r\n  MatDatepickerModule,\r\n  MatExpansionModule,\r\n  MatTreeModule,\r\n  MatAutocompleteModule,\r\n  MAT_DIALOG_DEFAULT_OPTIONS,\r\n  MatSnackBarModule,\r\n  MatTooltipModule\r\n} from '@angular/material';\r\n\r\n@NgModule({\r\n  declarations: [BillingComponent, ViewBillingComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: BillingComponent,\r\n        canActivate:[PermissionGuard]\r\n      },\r\n    ]),\r\n    PartialsModule,\r\n    MatInputModule,\r\n    MatPaginatorModule,\r\n    MatProgressSpinnerModule,\r\n    MatSortModule,\r\n    MatTableModule,\r\n    MatSelectModule,\r\n    MatMenuModule,\r\n    MatProgressBarModule,\r\n    MatButtonModule,\r\n    MatCheckboxModule,\r\n    MatDialogModule,\r\n    MatTabsModule,\r\n    MatNativeDateModule,\r\n    MatCardModule,\r\n    MatRadioModule,\r\n    MatIconModule,\r\n    MatDatepickerModule,\r\n    MatExpansionModule,\r\n    MatTreeModule,\r\n    MatAutocompleteModule,\r\n    MatSnackBarModule,\r\n    MatTooltipModule\r\n  ],\r\n  entryComponents: [\r\n    ViewBillingComponent\r\n  ],\r\n  providers: [PermissionGuard,\r\n    {\r\n      provide: MAT_DIALOG_DEFAULT_OPTIONS,\r\n      useValue: {\r\n        hasBackdrop: true,\r\n        panelClass: 'kt-mat-dialog-container__wrapper',\r\n        height: 'auto',\r\n        width: '900px'\r\n      }\r\n    },\r\n  ]\r\n})\r\nexport class BillingModule { }\r\n","module.exports = \"<kt-portlet>\\r\\n  <!-- See prop => '../../_core/models/data-sources/_base.datasource.ts' (loading$) -->\\r\\n  <kt-portlet-header [class]=\\\"'kt-portlet__head--lg'\\\">\\r\\n    <!-- PORTLET LOADING | Binded to TABLE Datasource -->\\r\\n\\r\\n    <ng-container ktPortletTitle>\\r\\n      <h3 class=\\\"kt-portlet__head-title\\\">\\r\\n        <span>Billing list</span>\\r\\n      </h3>\\r\\n      <!-- For localisations we use @ngx-translate | See off. documentations => https://github.com/ngx-translate/core -->\\r\\n      <!-- Localization libraries (en/fr) are here => '../../../.././config/i18n/en.ts|fr.ts' -->\\r\\n    </ng-container>\\r\\n  </kt-portlet-header>\\r\\n  <!-- end::Header -->\\r\\n\\r\\n  <kt-portlet-body>\\r\\n    <!-- start::FILTERS & GROUP ACTIONS -->\\r\\n    <div class=\\\"kt-form kt-margin-b-30\\\">\\r\\n      <!-- start::FILTERS -->\\r\\n      <div class=\\\"kt-form__filtration\\\">\\r\\n        <form [formGroup]=\\\"billingForm\\\">\\r\\n          <div class=\\\"row align-items-center\\\">\\r\\n\\r\\n            <div class=\\\"col-md-2 kt-margin-bottom-10-mobile\\\">\\r\\n              <!-- 'm  margin-bottom-10-mobile' for adaptive make-up  -->\\r\\n              <div class=\\\"kt-form__control\\\">\\r\\n                <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                  <input matInput [matDatepicker]=\\\"picker\\\" #start formControlName=\\\"start\\\"\\r\\n                    placeholder=\\\"Choose start date\\\" id=\\\"start\\\">\\r\\n                  <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\r\\n                  <mat-datepicker #picker></mat-datepicker>\\r\\n                  <mat-error>Insert\\r\\n                    <strong>valid date</strong>\\r\\n                  </mat-error>\\r\\n                  <mat-hint align=\\\"start\\\">Please enter\\r\\n                    <strong>invoice start-date</strong>\\r\\n                  </mat-hint>\\r\\n                </mat-form-field>\\r\\n\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-2 kt-margin-bottom-10-mobile\\\">\\r\\n              <div class=\\\"kt-form__control\\\">\\r\\n                <mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n                  <input matInput [matDatepicker]=\\\"picker2\\\" #end placeholder=\\\"Choose start date\\\" formControlName=\\\"end\\\">\\r\\n                  <mat-datepicker-toggle matSuffix [for]=\\\"picker2\\\"></mat-datepicker-toggle>\\r\\n                  <mat-datepicker #picker2></mat-datepicker>\\r\\n                  <mat-error>Insert\\r\\n                    <strong>valid date</strong>\\r\\n                  </mat-error>\\r\\n                  <mat-hint align=\\\"start\\\">Please enter\\r\\n                    <strong>invoice end-date</strong>\\r\\n                  </mat-hint>\\r\\n                </mat-form-field>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-2 kt-margin-bottom-10-mobile\\\">\\r\\n\\r\\n              <div class=\\\"kt-form__control\\\">\\r\\n                <button (click)=\\\"findBilling(start.value,end.value)\\\" mat-raised-button matTooltip=\\\"Find your billing\\\"\\r\\n                  color=\\\"primary\\\" type=\\\"button\\\">\\r\\n                  <span>Find billing</span>\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n    </div>\\r\\n    <!-- end::FILTERS -->\\r\\n\\r\\n    <!-- start::GROUP ACTIONS -->\\r\\n    <!-- Group actions list: 'Delete selected' | 'Fetch selected' | 'Update status for selected' -->\\r\\n    <!-- Group actions are shared for all LISTS | See '../../_shared' folder -->\\r\\n    <!-- end::GROUP ACTIONS -->\\r\\n\\r\\n    <!-- end::FILTERS & GROUP ACTIONS -->\\r\\n\\r\\n    <!-- MATERIAL TABLE | Binded to datasources -->\\r\\n    <!-- See off.documentations 'https://material.angular.io/components/table/overview' -->\\r\\n    <div class=\\\"mat-table__wrapper\\\">\\r\\n      <mat-table class=\\\"lmat-elevation-z8\\\" #table [dataSource]=\\\"dataSource\\\" matSort #sort1=\\\"matSort\\\" matSortActive=\\\"id\\\"\\r\\n        matSortDirection=\\\"asc\\\" matSortDisableClear>\\r\\n        <!-- Checkbox Column -->\\r\\n\\r\\n        <!-- Table with selection -->\\r\\n        <!-- https://run.stackblitz.com/api/angular/v1?file=app%2Ftable-selection-example.ts -->\\r\\n\\r\\n        <ng-container matColumnDef=\\\"ClubName\\\">\\r\\n          <!-- ATTRIBUTE mat-sort-header  for sorting | https://material.angular.io/components/sort/overview -->\\r\\n          <mat-header-cell *matHeaderCellDef mat-sort-header>Club Name</mat-header-cell>\\r\\n          <mat-cell *matCellDef=\\\"let billing\\\">{{clubName}}</mat-cell>\\r\\n        </ng-container>\\r\\n\\r\\n        <ng-container matColumnDef=\\\"PackageName\\\">\\r\\n          <mat-header-cell *matHeaderCellDef mat-sort-header>Package Name</mat-header-cell>\\r\\n          <mat-cell *matCellDef=\\\"let billing\\\">{{billing.package_title}}</mat-cell>\\r\\n        </ng-container>\\r\\n\\r\\n        <ng-container matColumnDef=\\\"StartDate\\\">\\r\\n          <mat-header-cell *matHeaderCellDef mat-sort-header>Start Date</mat-header-cell>\\r\\n          <mat-cell *matCellDef=\\\"let billing\\\">{{billing.start_date | date: 'dd/MM/yyyy'}}</mat-cell>\\r\\n        </ng-container>\\r\\n\\r\\n\\r\\n\\r\\n        <ng-container matColumnDef=\\\"EndDate\\\">\\r\\n          <mat-header-cell *matHeaderCellDef mat-sort-header>End Date</mat-header-cell>\\r\\n          <mat-cell *matCellDef=\\\"let billing\\\">{{billing.end_date | date: 'dd/MM/yyyy'}}</mat-cell>\\r\\n        </ng-container>\\r\\n\\r\\n        <ng-container matColumnDef=\\\"status\\\">\\r\\n          <mat-header-cell *matHeaderCellDef mat-sort-header>Status</mat-header-cell>\\r\\n          <mat-cell *matCellDef=\\\"let billing\\\">\\r\\n            <span *ngIf=\\\"billing.payment_status\\\" class=\\\"kt-badge kt-badge--inline kt-badge--pill kt-badge--success kt-badge--wide\\\">{{billing.payment_status}}</span> \\r\\n            <span *ngIf=\\\"!billing.payment_status\\\" class=\\\"kt-badge kt-badge--inline kt-badge--pill kt-badge--danger kt-badge--wide\\\">Pending</span>\\r\\n          </mat-cell>\\r\\n        </ng-container>\\r\\n\\r\\n        <ng-container matColumnDef=\\\"Discount\\\">\\r\\n          <mat-header-cell *matHeaderCellDef mat-sort-header>Discount</mat-header-cell>\\r\\n          <mat-cell *matCellDef=\\\"let billing\\\">{{billing.discount}}</mat-cell>\\r\\n        </ng-container>\\r\\n\\r\\n        <ng-container matColumnDef=\\\"actions\\\">\\r\\n          <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>\\r\\n          <mat-cell *matCellDef=\\\"let billing\\\">\\r\\n\\r\\n            <button mat-icon-button color=\\\"primary\\\" matTooltip=\\\"View billing\\\" (click)=\\\"viewBilling(billing)\\\">\\r\\n              <mat-icon>visibility</mat-icon>\\r\\n            </button>&nbsp;\\r\\n\\r\\n          </mat-cell>\\r\\n        </ng-container>\\r\\n\\r\\n        <mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></mat-header-row>\\r\\n\\r\\n        <mat-row *matRowDef=\\\"let row; columns: displayedColumns\\\"></mat-row>\\r\\n      </mat-table>\\r\\n      <!-- Message for empty data  -->\\r\\n      <div class=\\\"mat-table__message\\\" *ngIf=\\\"!dataSource && !NoDataMessage\\\">Enter Start_date and End_date to get your\\r\\n        invoice</div>\\r\\n      <div class=\\\"mat-table__message\\\" style=\\\"color:red\\\" *ngIf=\\\"NoDataMessage\\\">{{NoDataMessage}}</div>\\r\\n    </div>\\r\\n\\r\\n    <!-- start: BOTTOM -->\\r\\n    <!-- end: BOTTOM -->\\r\\n  </kt-portlet-body>\\r\\n  <!-- end::Body -->\\r\\n\\r\\n</kt-portlet>\"","module.exports = \".warn-snackbar {\\n  background-color: #ff4081; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlld3MvcGFnZXMvYmlsbGluZy9iaWxsaW5nL0U6XFxHRU1JTlxcZ3ltaW4tMi4wLXNhYXMtZnJvbnRlbmQvc3JjXFxhcHBcXHZpZXdzXFxwYWdlc1xcYmlsbGluZ1xcYmlsbGluZ1xcYmlsbGluZy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNJLHlCQUF5QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvdmlld3MvcGFnZXMvYmlsbGluZy9iaWxsaW5nL2JpbGxpbmcuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLndhcm4tc25hY2tiYXJ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY0MDgxO1xyXG4gIH0iXX0= */\"","import { ViewEncapsulation, Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { ViewBillingComponent } from '../view-billing/view-billing.component'\r\nimport { BillingService } from '../../../../core/auth/_services/billing.service';\r\nimport { Billing } from '../../../../core/auth/_models/billing.model';\r\nimport { FormBuilder, FormGroup, Validators, FormControl } from '@angular/forms';\r\nimport {\r\n  MatSnackBar,\r\n  MatSnackBarConfig,\r\n  MatSnackBarHorizontalPosition,\r\n  MatSnackBarVerticalPosition,\r\n  MatTableDataSource,\r\n} from '@angular/material';\r\n@Component({\r\n  selector: 'kt-billing',\r\n  templateUrl: './billing.component.html',\r\n  styleUrls: ['./billing.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class BillingComponent implements OnInit {\r\n\r\n  filterStatus: string = '';\r\n  displayedColumns = ['ClubName', 'PackageName', 'StartDate', 'EndDate', 'Discount', 'status', 'actions'];\r\n  clubName;\r\n  billing: Billing;\r\n  dataSource;\r\n  club_id;\r\n  NoDataMessage;\r\n  billingForm: FormGroup;\r\n  hasFormErrors: boolean = false;\r\n  viewLoading: boolean = false;\r\n  status;\r\n  statusClass;\r\n\r\n\r\n  constructor(private billingService: BillingService, public snackBar: MatSnackBar, public dialog: MatDialog, private changeDetectorRefs: ChangeDetectorRef, private fb: FormBuilder, ) { }\r\n\r\n  ngOnInit() {\r\n    let now = new Date();\r\n    let monthAgo = new Date();\r\n    monthAgo.setMonth(now.getMonth() - 1);\r\n    this.billingForm = this.fb.group({\r\n      start: [monthAgo, [Validators.required]],\r\n      end: [now, [Validators.required]],\r\n    })\r\n\r\n  }\r\n  findBilling(start_date, end_date) {\r\n    const controls = this.billingForm.controls;\r\n    if (this.billingForm.invalid) {\r\n      Object.keys(controls).forEach(controlName =>\r\n        controls[controlName].markAsTouched()\r\n      );\r\n      this.hasFormErrors = true;\r\n      return;\r\n    }\r\n    var d = new Date(start_date);\r\n    start_date = d.getFullYear() + \"-\" + (d.getMonth() + 1) + \"-\" + d.getDate();\r\n    var d2 = new Date(end_date);\r\n    end_date = d2.getFullYear() + \"-\" + (d2.getMonth() + 1) + \"-\" + d2.getDate();\r\n    this.club_id = JSON.parse(localStorage.getItem('user'))['pub_key'];\r\n    if (this.checkedpermission('getbillings')) {\r\n      this.billingService.getBilling(start_date, end_date, this.club_id).subscribe(res => {\r\n\r\n        let result = res['result'];\r\n        let data: Billing[] = res['data'];\r\n        if (result == true && data.length > 0) {\r\n          this.NoDataMessage = \"\";\r\n          \r\n          this.clubName=JSON.parse(localStorage.getItem('user'))['name'];\r\n\r\n          this.dataSource = this.dataSource = new MatTableDataSource<Billing>(data);\r\n          console.log(\"datasource\", this.dataSource);\r\n          console.log(\"billing\", this.billing);\r\n          this.changeDetectorRefs.detectChanges();\r\n        }\r\n        else if (result == true && data.length == 0) {\r\n          this.clubName = '';\r\n          this.dataSource = '';\r\n          this.NoDataMessage = \"There is no invoice for this date\";\r\n          this.changeDetectorRefs.detectChanges();\r\n          console.log('no data', this.NoDataMessage)\r\n        }\r\n        else if (result == false) {\r\n          this.clubName = '';\r\n          this.dataSource = '';\r\n          this.NoDataMessage = \"Insert valid date to show the invoice\";\r\n          this.changeDetectorRefs.detectChanges();\r\n          console.log('no data', this.NoDataMessage)\r\n        }\r\n\r\n        console.log(res)\r\n      })\r\n    }\r\n    else {\r\n      this.open()\r\n    }\r\n  }\r\n  viewBilling(billing) {\r\n    if (this.checkedpermission('getbillings')) {\r\n      const dialogRef = this.dialog.open(ViewBillingComponent, {\r\n        width: '80%',\r\n        height: '80%',\r\n        data: { 'billing': billing, 'clubName': this.clubName }\r\n      });\r\n\r\n      dialogRef.afterClosed().subscribe(result => {\r\n        console.log('The dialog was closed');\r\n      });\r\n    }\r\n    else {\r\n      this.open()\r\n    }\r\n  }\r\n\r\n  checkedpermission(key: String) {\r\n    let checked = false\r\n    if (localStorage.getItem('user')) {\r\n\r\n      if (JSON.parse(localStorage.getItem('user'))) {\r\n        let user = JSON.parse(localStorage.getItem('user'))\r\n\r\n        if (user['allPrivilidge']) {\r\n          const privilidge = user['allPrivilidge']\r\n\r\n          Object.keys(privilidge).forEach(role => {\r\n            Object.keys(privilidge[role]).forEach(pri => {\r\n\r\n              let per = (privilidge[role][pri].toString()).trim()\r\n              if (key.trim() == per) {\r\n                checked = true\r\n              }\r\n            })\r\n          })\r\n        }\r\n      }\r\n    }\r\n\r\n    return checked\r\n  }\r\n\r\n\r\n  open() {\r\n    let message = 'Oh Snap ! You dont have permission to get this data';\r\n    let actionButtonLabel = '';\r\n    let action = true;\r\n    let setAutoHide = true;\r\n    let autoHide = 4000;\r\n    let horizontalPosition: MatSnackBarHorizontalPosition = 'center';\r\n    let verticalPosition: MatSnackBarVerticalPosition = 'top';\r\n\r\n    let addExtraClass = false;\r\n    let config = new MatSnackBarConfig();\r\n    config.verticalPosition = verticalPosition;\r\n    config.horizontalPosition = horizontalPosition;\r\n    config.duration = setAutoHide ? autoHide : 0;\r\n    //  config['extraClasses'] = addExtraClass ? ['warn-snackbar'] : undefined;\r\n    config.panelClass = ['warn-snackbar'];\r\n    this.snackBar.open(message, action ? actionButtonLabel : undefined, config);\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n    <button class=\\\"btn btn-success\\\" (click)=\\\"print()\\\">Print invoice</button>\\r\\n</div>\\r\\n<div class=\\\"container\\\" id=\\\"billingFile\\\" #billingFile>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-12\\\">\\r\\n            <div class=\\\"card\\\">\\r\\n                <div class=\\\"card-body p-0\\\">\\r\\n                    <div class=\\\"row p-5\\\" style=\\\"margin:15px;height: 75px;\\\">\\r\\n                        <div class=\\\"col-md-6\\\" >\\r\\n                            <img src=\\\"./assets/media/logos/logo.png\\\" width=\\\"120px\\\" height=\\\"50px\\\">\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"col-md-6 text-right\\\">\\r\\n                            <p class=\\\"font-weight-bold mb-1\\\">{{clubName}} invoice</p>\\r\\n                            <p class=\\\"text-muted\\\"> Date :\\r\\n                                {{billing.createdat| date: 'dd/MM/yyyy'}}</p>\\r\\n                        </div>\\r\\n                        <p class=\\\"alert alert-danger\\\" style=\\\"margin:10px;\\\" *ngIf=\\\"!billing.payment_status\\\">Your balance is now past due , please pay now <b>{{payment}} EGP</b></p>\\r\\n                    </div>\\r\\n                    \\r\\n\\r\\n                    <hr class=\\\"my-5\\\">\\r\\n                    \\r\\n        \\r\\n                    <!-- <div class=\\\"row pb-5 p-5\\\">\\r\\n                        <div class=\\\"col-md-6\\\">\\r\\n                            <p class=\\\"font-weight-bold mb-4\\\">Client Information</p>\\r\\n                            <p class=\\\"mb-1\\\"><span class=\\\"text-muted\\\">CLUB: </span>{{clubName}}</p>\\r\\n                            <p class=\\\"mb-1\\\"><span class=\\\"text-muted\\\">Package Title : </span>{{billing.package_title}}\\r\\n                            </p>\\r\\n                            <p class=\\\"mb-1\\\"><span class=\\\"text-muted\\\">Package Description:\\r\\n                                </span>{{billing.package_description}}</p>\\r\\n                            <p class=\\\"mb-1\\\"><span class=\\\"text-muted\\\">Pay Percentage : </span>{{billing.pay_percentage}}\\r\\n                            </p>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"col-md-6 text-right\\\">\\r\\n                            <p class=\\\"font-weight-bold mb-4\\\">Payment Details</p>\\r\\n                            <p class=\\\"mb-1\\\"><span class=\\\"text-muted\\\">FROM: </span>\\r\\n                                {{billing.start_date | date: 'dd/MM/yyyy'}}</p>\\r\\n                            <p class=\\\"mb-1\\\"><span class=\\\"text-muted\\\">TO: </span>\\r\\n                                {{billing.start_date | date: 'dd/MM/yyyy'}}</p>\\r\\n                            <p class=\\\"mb-1\\\" *ngIf=\\\"paymentStatus\\\"><span class=\\\"text-muted\\\">Payment_Status : </span>\\r\\n                                <b>Pending</b></p>\\r\\n                            <p class=\\\"mb-1\\\" *ngIf=\\\"!paymentStatus\\\"><span class=\\\"text-muted\\\">Payment_Status : </span>\\r\\n                                Paid</p>\\r\\n                            <p class=\\\"mb-1\\\" *ngIf=\\\"!paymentStatus\\\"><span class=\\\"text-muted\\\">Billing Method : </span>\\r\\n                                {{billing.billing_method}}</p>\\r\\n                            <p class=\\\"mb-1\\\"><span class=\\\"text-muted\\\">Trans_Max_Num : </span>{{billing.trans_max_num}}\\r\\n                            </p>\\r\\n                            <p class=\\\"mb-1\\\"><span class=\\\"text-muted\\\">Trans_Amount : </span>{{billing.trans_amount}}</p>\\r\\n                        </div>\\r\\n                    </div> -->\\r\\n                   \\r\\n                    <div class=\\\"row p-5\\\">\\r\\n                        <div class=\\\"col-md-12\\\">\\r\\n                            <table class=\\\"table\\\" style=\\\"border:none\\\">\\r\\n                                <thead>\\r\\n                                    <tr>\\r\\n                                        <th class=\\\"border-0  small font-weight-bold\\\">Package Information\\r\\n                                        </th>\\r\\n                                        <th class=\\\"border-0 small font-weight-bold\\\">Transaction\\r\\n                                            Information</th>\\r\\n                                        <th class=\\\"border-0  small font-weight-bold\\\">Payment Details</th>\\r\\n                                    </tr>\\r\\n                                </thead>\\r\\n                                <tbody>\\r\\n                                    <tr>\\r\\n                                        <td>\\r\\n                                            <p class=\\\"mb-1\\\"><span class=\\\"text-muted\\\">CLUB-NAME: </span>{{clubName}}</p>\\r\\n                                        </td>\\r\\n                                        <td>\\r\\n                                            <p class=\\\"mb-1\\\"><span class=\\\"text-muted\\\">Transaction_Max_Num :\\r\\n                                                </span>{{billing.trans_max_num}}\\r\\n                                            </p>\\r\\n                                        </td>\\r\\n                                        <td>\\r\\n                                            <p class=\\\"mb-1\\\"><span class=\\\"text-muted\\\">FROM: </span>\\r\\n                                                {{billing.start_date | date: 'dd/MM/yyyy'}}</p>\\r\\n                                        </td>\\r\\n                                    </tr>\\r\\n\\r\\n                                    <tr>\\r\\n                                        <td>\\r\\n                                            <p class=\\\"mb-1\\\"><span class=\\\"text-muted\\\">Package Title :\\r\\n                                                </span>{{billing.package_title}}\\r\\n                                            </p>\\r\\n                                        </td>\\r\\n                                        <td>\\r\\n                                            <p class=\\\"mb-1\\\"><span class=\\\"text-muted\\\">Transaction_Amount :\\r\\n                                                </span>{{billing.trans_amount}}</p>\\r\\n                                        </td>\\r\\n                                        <td>\\r\\n                                            <p class=\\\"mb-1\\\"><span class=\\\"text-muted\\\">TO: </span>\\r\\n                                                {{billing.start_date | date: 'dd/MM/yyyy'}}</p>\\r\\n                                        </td>\\r\\n                                    </tr>\\r\\n                                    <tr>\\r\\n                                        <td>\\r\\n                                            <p class=\\\"mb-1\\\"><span class=\\\"text-muted\\\">Package Description:\\r\\n                                                </span>{{billing.package_description}}</p>\\r\\n                                        </td>\\r\\n                                        <td><p class=\\\"mb-1\\\"><span class=\\\"text-muted\\\">Pay Percentage : </span>{{billing.pay_percentage}}%\\r\\n                                        </p></td>\\r\\n                                        <td>\\r\\n                                            <p class=\\\"mb-1\\\" *ngIf=\\\"!billing.payment_status\\\"><span\\r\\n                                                    class=\\\"text-muted\\\">Payment_Status : </span>\\r\\n                                                <b>Pending</b></p>\\r\\n                                            <p class=\\\"mb-1\\\" *ngIf=\\\"billing.payment_status\\\"><span\\r\\n                                                    class=\\\"text-muted\\\">Payment_Status : </span>\\r\\n                                                    <b>{{billing.payment_status}}</b></p>\\r\\n                                        </td>\\r\\n                                    </tr>\\r\\n                                </tbody>\\r\\n                            </table>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row p-5\\\">\\r\\n                        <div class=\\\"col-md-12\\\">\\r\\n                            <table class=\\\"table\\\">\\r\\n                                <thead>\\r\\n                                    <tr>\\r\\n                                        <th class=\\\"border-0 text-uppercase small font-weight-bold\\\">TRANSACTION</th>\\r\\n                                        <th class=\\\"border-0 text-uppercase small font-weight-bold\\\">CLUBNAME</th>\\r\\n                                        <th class=\\\"border-0 text-uppercase small font-weight-bold\\\">BRANCHNAME</th>\\r\\n                                        <th class=\\\"border-0 text-uppercase small font-weight-bold\\\">WEIGHT</th>\\r\\n                                        <th class=\\\"border-0 text-uppercase small font-weight-bold\\\">TRANSaction-Number</th>\\r\\n                                        <th class=\\\"border-0 text-uppercase small font-weight-bold\\\">REVENEU</th>\\r\\n                                    </tr>\\r\\n                                </thead>\\r\\n                                <tbody *ngFor=\\\"let billingDetail of billingDetails\\\">\\r\\n                                    <tr>\\r\\n                                        <td>{{billingDetail.transaction}}</td>\\r\\n                                        <td>{{clubName}}</td>\\r\\n                                        <td>{{branchName}}</td>\\r\\n                                        <td>{{billingDetail.weight}}</td>\\r\\n                                        <td>{{billingDetail.tTrans}}</td>\\r\\n                                        <td>{{billingDetail.tRevneu}}</td>\\r\\n                                    </tr>\\r\\n                                </tbody>\\r\\n                                <tr>\\r\\n                                    <td colspan=\\\"4\\\"><b>Total:</b></td>\\r\\n                                    <td><b>{{totalTransaction}}</b></td>\\r\\n                                    <td style=\\\"font-size:16px\\\"><b>{{TotalRevneu}} EGP</b></td>\\r\\n                                </tr>\\r\\n                            </table>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"d-flex flex-row-reverse text-white p-4\\\" style=\\\"background-color:#979797\\\">\\r\\n                        <div class=\\\"py-3 px-5 text-right\\\">\\r\\n                            <div class=\\\"mb-2\\\">Grand Total</div>\\r\\n                            <div style=\\\"font-size:16px\\\">{{payment}} EGP</div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"py-3 px-5 text-right\\\">\\r\\n                            <div class=\\\"mb-2\\\">Discount</div>\\r\\n                            <div style=\\\"font-size:16px\\\">{{billing.discount}}%</div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"py-3 px-5 text-right\\\">\\r\\n                            <div class=\\\"mb-2\\\">Sub - Total amount</div>\\r\\n                            <div style=\\\"font-size:16px\\\">{{billing.sub_total}} EGP</div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","module.exports = \"body {\\n  background: grey;\\n  margin-top: 120px;\\n  margin-bottom: 120px; }\\n\\nbutton {\\n  margin: 15px; }\\n\\n.warn-snackbar {\\n  background-color: #ff4081; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlld3MvcGFnZXMvYmlsbGluZy92aWV3LWJpbGxpbmcvRTpcXEdFTUlOXFxneW1pbi0yLjAtc2Fhcy1mcm9udGVuZC9zcmNcXGFwcFxcdmlld3NcXHBhZ2VzXFxiaWxsaW5nXFx2aWV3LWJpbGxpbmdcXHZpZXctYmlsbGluZy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsb0JBQW9CLEVBQUE7O0FBRXhCO0VBQ0ksWUFBWSxFQUFBOztBQUVoQjtFQUNJLHlCQUF5QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvdmlld3MvcGFnZXMvYmlsbGluZy92aWV3LWJpbGxpbmcvdmlldy1iaWxsaW5nLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYm9keSB7XHJcbiAgICBiYWNrZ3JvdW5kOiBncmV5O1xyXG4gICAgbWFyZ2luLXRvcDogMTIwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMjBweDtcclxufVxyXG5idXR0b257XHJcbiAgICBtYXJnaW46IDE1cHg7XHJcbn1cclxuLndhcm4tc25hY2tiYXJ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY0MDgxO1xyXG4gIH0iXX0= */\"","import { Component, OnInit, Inject, ElementRef, ViewChild } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { BillingService } from '../../../../core/auth/_services/billing.service';\r\nimport { billingDetails } from '../../../../core/auth/_models/billing-details.model';\r\nimport { Billing } from '../../../../core/auth/_models/billing.model';\r\nimport {UserService} from '../../../../core/auth/_services/-user.service'\r\n\r\n@Component({\r\n  selector: 'kt-view-billing',\r\n  templateUrl: './view-billing.component.html',\r\n  styleUrls: ['./view-billing.component.scss']\r\n})\r\nexport class ViewBillingComponent implements OnInit {\r\n  revenue;\r\n  billing: Billing;\r\n  clubName;\r\n  TotalRevneu = 0;\r\n  billingDetails: [billingDetails];\r\n  payment;\r\n  paymentStatus;\r\n  club_id=JSON.parse(localStorage.getItem('user'))['pub_key'];\r\n  branch;\r\n  branchName;\r\n  totalTransaction=0;\r\n  @ViewChild('billingFile') billingFile: ElementRef;\r\n  constructor(\r\n    public dialogRef: MatDialogRef<ViewBillingComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    private billingService: BillingService,\r\n    private userService:UserService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.billing = this.data.billing;\r\n    this.clubName = this.data.clubName;\r\n    let start_date=this.billing.start_date\r\n    let end_date= this.billing.end_date\r\n   var d = new Date(start_date);\r\n   start_date = d.getFullYear() + \"-\" + (d.getMonth() + 1) + \"-\" + d.getDate();\r\n   var d2 = new Date(end_date);\r\n   end_date = d2.getFullYear() + \"-\" + (d2.getMonth() + 1) + \"-\" + d2.getDate();\r\nif(this.checkedpermission('getbillings')){\r\n   this.billingService.getBillingDetails(start_date, end_date, this.club_id)\r\n      .subscribe(res => {\r\n        this.billingDetails = res;\r\n       \r\n        for (let i = 0; i < this.billingDetails.length; i++) {\r\n          if(this.billingDetails[i].calc==0){\r\n              this.billingDetails[i].tRevneu=0;\r\n              this.billingDetails[i].tTrans=0;\r\n          }\r\n         \r\n          this.TotalRevneu = this.TotalRevneu + this.billingDetails[i].tRevneu;\r\n          this.totalTransaction=this.totalTransaction + this.billingDetails[i].tTrans\r\n          // this.userService.getUserbyId(this.billingDetails[i].branch).subscribe(res=>{\r\n          //      this.branch=res[i];\r\n          //      this.branchName=this.branch.username\r\n          // })\r\n        }\r\n        this.payment = Math.round((this.billing.sub_total - (this.billing.sub_total * this.billing.discount / 100)))\r\n      });\r\n    }\r\n  }\r\n  print(): void {\r\n    let printContents, popupWin;\r\n    printContents = document.getElementById('billingFile').innerHTML;\r\n    popupWin = window.open('', '_blank', 'top=0,left=0,height=100%,width=auto');\r\n    popupWin.document.open();\r\n    popupWin.document.write(`\r\n      <html>\r\n        <head>\r\n          <title>Gymin Invoice</title>\r\n          <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\">\r\n          <style>\r\n          body {\r\n            background: grey;\r\n            margin-top: 30px;\r\n            margin-bottom: 30px;\r\n        }\r\n          </style>\r\n        </head>\r\n    <body onload=\"window.print();window.close()\">${printContents}</body>\r\n      </html>`\r\n    );\r\n    popupWin.document.close();\r\n}\r\n  checkedpermission(key: String) {\r\n    let checked = false\r\n    if (localStorage.getItem('user')) {\r\n\r\n      if (JSON.parse(localStorage.getItem('user'))) {\r\n        let user = JSON.parse(localStorage.getItem('user'))\r\n\r\n        if (user['allPrivilidge']) {\r\n          const privilidge = user['allPrivilidge']\r\n\r\n          Object.keys(privilidge).forEach(role => {\r\n            Object.keys(privilidge[role]).forEach(pri => {\r\n\r\n              let per = (privilidge[role][pri].toString()).trim()\r\n              if (key.trim() == per) {\r\n                checked = true\r\n              }\r\n            })\r\n          })\r\n        }\r\n      }\r\n    }\r\n\r\n    return checked\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}